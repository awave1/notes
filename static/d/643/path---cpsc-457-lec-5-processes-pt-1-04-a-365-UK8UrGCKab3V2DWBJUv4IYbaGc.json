{"data":{"markdownRemark":{"html":"<p>Process is a key concept in all operating systems. A quick definition of a process is <mark>a program in execution</mark>. Process is associated with:</p>\n<ul>\n<li>an address space</li>\n<li>set of resources</li>\n<li>program counter, stack pointer</li>\n<li>unique ID (process ID, <strong>PID</strong>)</li>\n</ul>\n<p>Process can be though of as a container that holds all information needed by an OS to run a program.</p>\n<h2>Process Tree</h2>\n<p>Processes are allowed to create new processes.</p>\n<h2>Pipes</h2>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/notes/static/cf22c70cb9dd12a15b076088107dbe51/c3048/lec5-pipe.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 37.920489296636084%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABWUlEQVQoz41Sa2+CUAzl//+jJXzYmAoiY/LwwRAEJANEhWVbJDw8o900mizLTtJc2tuenvYiqKqGeBNh5fnwPA++v0bTtiCcTid0Xcfn2QhNU2M4GMJ1V4iiiOucFxdZtoUQhRvomob7BwmWacG0bFR1g9/xTVjXNcIgxHodYDQcQZZlTKcm+0KSvHKHOI77ju5N+VtZQH/Ssc1y5HmOtu1Y8Vk95VOd7/tIkoTjwmKxuBDsdjtc+9XxiLk9h/w4wvPUuGnmOA7SNL34y+WSSYW277hNEzwOZL4g+ZIkYTweQ1VV6LrOMa1fi6IomEwmEEWxjymcL96J8PwQVXXkSYX9fs8X7x+ffBLRbDbjjqSW7PqblFmWxeSEsijR9aulldDogmEYLLUoCti23b9Uhv+ACIi4LEse3TTNXmUFgV6Mnj4MQxwOB06mxf9l7c9vRSKCIOB6IiN8AQIMVE/lrwPCAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Pipe process\"\n        title=\"\"\n        src=\"/notes/static/cf22c70cb9dd12a15b076088107dbe51/623ee/lec5-pipe.png\"\n        srcset=\"/notes/static/cf22c70cb9dd12a15b076088107dbe51/816c5/lec5-pipe.png 148w,\n/notes/static/cf22c70cb9dd12a15b076088107dbe51/c766b/lec5-pipe.png 295w,\n/notes/static/cf22c70cb9dd12a15b076088107dbe51/623ee/lec5-pipe.png 590w,\n/notes/static/cf22c70cb9dd12a15b076088107dbe51/c3048/lec5-pipe.png 654w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>Pipes is a very powerful thing in Unix. On Unix systems, two processes can communicate with each other via a <strong>pipe</strong>. Pipes are accessed using file I/O APIs. Pipes <em>can</em> be bidirectional, but normally used as one directional.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> -altr <span class=\"token operator\">|</span> <span class=\"token function\">tail</span> -10</code></pre></div>\n<p>Pipes allow parallelization: two programs will be executed in parallel.</p>\n<h2>Unix file APIs</h2>\n<p>Unix-like OSs make use of files and associated APIs for different operations/services. For example, if pipes are used programmatically, pipe will be used as some file.</p>\n<hr>\n<p>We want the ability to run multiple programs at the same time, aka <mark>multitasking</mark>. For this we need firm control and compartmentalization of the various programs. To this end we create an abstraction of <strong>program in execution</strong> and call it a <strong>process</strong>.</p>\n<h2>Multitasking</h2>\n<p>Process abstraction is used to implement <strong>multitasking</strong>. Multitasking allows an <strong>illusion</strong> of parallelism:</p>\n<ul>\n<li>running <code class=\"language-text\">N</code> processes with <code class=\"language-text\">M</code> CPUs, <code class=\"language-while n \"> M</code></li>\n<li>\n<p>works even with a single CPU:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">run program (i) for a fraction of a second\nswitch to program (i+1)\nrepeat</code></pre></div>\n</li>\n</ul>\n<p>Multitasking allows us to reduce CPU idling during I/O. CPU could be given to another process rather than remain idle. Multitasking is only practical when memory is big enough to hold multiple programs.</p>\n<p><strong>Program <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi mathvariant=\"normal\">≠</mi></mrow><annotation encoding=\"application/x-tex\">\\neq</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mrel\"><span class=\"mrel\"><span class=\"mord\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"inner\"><span class=\"mrel\"></span></span><span class=\"fix\"></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span></span><span class=\"mrel\">=</span></span></span></span></span> Process</strong>:</p>\n<ul>\n<li>\n<p>A <em>program</em> is a <strong>passive</strong> entry</p>\n<ul>\n<li>an executable file containing a list of instructions, usually stored on disk</li>\n</ul>\n</li>\n<li>\n<p>A <em>process</em> is an <strong>active</strong> entity</p>\n<ul>\n<li>associated with a <em>program counter</em> and other resources</li>\n</ul>\n</li>\n</ul>\n<h2>A process in memory</h2>\n<p>Each process gets its own <strong>address space</strong>. Part of memory available to a process, decided by OS. On modern OSes it is a <em>virtual</em> address space (0 - max), isolated from other processes.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/notes/static/5a9af13c99a58a73bb6a32989f54b68e/8cbec/lec5-mem-stack.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 434px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 140.55299539170508%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAABYlAAAWJQFJUiTwAAADEklEQVRIx6VWTXPaMBTk9/eYWw+5pjSn0KSdIZcmLfXUpOFzCAFjYoNtDOYbAiWTZKtVRmAbp5NOmdl5kvZp9Z4kP5F6fHzEw8NDIjabzRZJ3NPTE4bDITRNw+XlJRqNBlJBEKDT6aDX68HzvC3YpzN52jhPuK4Ly7Jk2zAM6ZOi82AwwGQywXg8lmCbY+VyWa5K6/u+GJ9GfNSC4V9qNBpJYjabYTqdSsf5fC5XPz4+RiaTwcnJicxisVhInn4Ehbkwf0z/+fkZKYZptFqwbVuGr2DbHXiCcxxHpmQLwShvwzRNdLtdKUgxGWHbDZC76eHKHCJvBFvoxgD51hBfcmXozUGEI64Ep932cWv5LxEqQcufQG/PUXJWKHTvBV5sUdhre4mDwyPk6j7K3gaFjuJXKAr/vLVE0xlFI7R6Y/w0Jyh2lkJgEUFBjB2mP0FrDMQC93uc3p6h2R0mCU7FhOXWsdDZtUvuWkacxOl387cJhm04orj9J8Fde/7/guHUyt7viMgbBV85FLF3mYtr5NuTxC1IPhRxbfJipbK7kifJ60Arr5GY9O7gPb7XXFR6mx0vQP6XuFZG/Nq0nABfqx60ZoAft4MXiGuSkzbAx6yGb+Lis81x5aOJ/kXNR+0udrHdno+6cQfTdtCyuluw3/H6MNrik3R6MK0YL/oNU3yCXScaIYvDaBhgPptiNp1IsD0UVeSmVhPfawum+NbHIxaQnc+MhWQ8EtVmEBX8W/k6O/uMo6MPSKfTskCoChMuX6rabAU5wIrS7/dlzVNgn7WObZayMKd4VYgjgiTb7bYUZSkKQ03konGOYBnjvL09ZCSquIbBSl0oFFAsFkG/sA/bHNtL+TVBjp+fn8uKfXp6KqNVexj22RNkSgyd+8TwFdhX6RJJPJ8F2sRDoaWAAiNSadKq/QwjfijyTVEpq2ujLB8k7h/T1nVdPlzhdJOujRRMuodchAKVSgXZbBalUkm+iopPekYjh8LQ4ykTnEhhTo5zBAWr1Srq9fpWNMW/Iuv1OhGr1WqLJJ5/R7jH4bT/AEQqHwCJDyDEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Memory stack\"\n        title=\"\"\n        src=\"/notes/static/5a9af13c99a58a73bb6a32989f54b68e/8cbec/lec5-mem-stack.png\"\n        srcset=\"/notes/static/5a9af13c99a58a73bb6a32989f54b68e/b6b31/lec5-mem-stack.png 148w,\n/notes/static/5a9af13c99a58a73bb6a32989f54b68e/c3013/lec5-mem-stack.png 295w,\n/notes/static/5a9af13c99a58a73bb6a32989f54b68e/8cbec/lec5-mem-stack.png 434w\"\n        sizes=\"(max-width: 434px) 100vw, 434px\"\n      />\n  </span>\n  </a></p>\n<ul>\n<li><strong>text section</strong>: the program code</li>\n<li><strong>data section</strong>: global variables, constant variables</li>\n<li><strong>heap</strong>: memory for dynamic allocation during runtime</li>\n<li><strong>stack</strong>: temporary data (parameters, return address, local variables)</li>\n</ul>\n<p>Other information needed by the OS for management, usually grouped in a Process Control Block data structure.</p>\n<h3>Process control block</h3>\n<!-- NOTE: Remember what goes to PCB -->\n<p>Each process is represented in the OS by a PCB that includes:</p>\n<ul>\n<li>process state</li>\n<li>program counter</li>\n<li>CPU registers</li>\n<li>CPU-scheduling info priority, pointers to the queue, other parameters</li>\n<li>memory management info: page tables, segment tables, etc.</li>\n<li>accounting info: CPU time, timeout values, process numbers, etc.</li>\n<li>I/O status info: open files, I/O devices, etc.</li>\n</ul>\n<p>On Linux, <a href=\"https://github.com/torvalds/linux/blob/master/include/linux/sched.h\"><code class=\"language-text\">task_struct</code></a> is the <code class=\"language-text\">struct</code> that stores information about processes.</p>\n<p>The <strong>process table</strong> is a collection of all PCBs. Some of the fields of a PCB</p>\n<table>\n<thead>\n<tr>\n<th>Process management</th>\n<th>Memory management</th>\n<th>File management</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>program counter</td>\n<td>pointer to text segment</td>\n<td>root directory</td>\n</tr>\n<tr>\n<td>registers</td>\n<td>pointer to data segment</td>\n<td>working directory</td>\n</tr>\n<tr>\n<td>stack pointer</td>\n<td>pointer to stack segment</td>\n<td>file descriptors</td>\n</tr>\n<tr>\n<td>priority</td>\n<td>user ID</td>\n<td></td>\n</tr>\n<tr>\n<td>scheduling parameters</td>\n<td>parent ID</td>\n<td></td>\n</tr>\n<tr>\n<td>PID</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>parent process</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>process group</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>signals</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>process start time</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>CPU time used</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>children's CPU time used</td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h2>Operations on processes</h2>\n<p>Processes need to be created and deleted dynamically and OS must provide mechanisms for this. Process creation on Unix is done via <code class=\"language-text\">fork()</code>:</p>\n<ul>\n<li><strong>parent process</strong> - the process that is creating a new process</li>\n<li><strong>child process</strong> - the newly created process</li>\n<li>processes in the system form a <strong>process tree</strong></li>\n<li>each process gets <strong>PID</strong>, a unique ID</li>\n</ul>\n<p>Process is executed via <code class=\"language-text\">fork()</code>:</p>\n<ul>\n<li>under Unix there's no difference, but under Win, there is (have to create <em>then</em> execute)</li>\n</ul>\n<p>Process termination is done via <code class=\"language-text\">exit()</code> or <code class=\"language-text\">kill()</code>:</p>\n<ul>\n<li>to let the OS delete the process</li>\n<li>termination can be (typically) only requested by the process or its parent</li>\n</ul>\n<p>There are other operations: synchronization, communication, etc.</p>\n<h2>Multiprocess program in C</h2>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;unistd.h></span></span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Create &amp; run child process - duplicate of parent</span>\n  <span class=\"token function\">fork</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Both parent and child will execute the next line</span>\n  <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"world.\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>There can be several possible outputs (due to buffering, or if <code class=\"language-text\">fork()</code> fails):</p>\n<ul>\n<li>\n<p>If <code class=\"language-text\">printf()</code> is unbuffered</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Hello\nworld.\nworld.</code></pre></div>\n</li>\n<li>\n<p>If first process got interrupted, due to multitasking</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Hello\nworwold.\nrld.</code></pre></div>\n</li>\n<li>\n<p>If <code class=\"language-text\">fork()</code> (returns <code class=\"language-text\">-1</code>) fails</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Hello\nworld.</code></pre></div>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;unistd.h></span></span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// create &amp; run child process - a duplicate of parent and remember the return value</span>\n  pid_t pid <span class=\"token operator\">=</span> <span class=\"token function\">fork</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// both parent and child will execute the next line, but will have different value for pid</span>\n  <span class=\"token comment\">// 0 for child</span>\n  <span class=\"token comment\">// non-zero for parent</span>\n  <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PID: %d\\n\"</span><span class=\"token punctuation\">,</span> pid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<!-- NOTE: what if fork is in a loop? -->\n<p>There also can be different outputs:</p>\n<ul>\n<li>\n<p>If parent was executed first</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">PID: 7\nPID: 0</code></pre></div>\n</li>\n<li>\n<p>If child was executed first</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">PID: 0\nPID: 7</code></pre></div>\n</li>\n<li>\n<p>If <code class=\"language-text\">fork()</code> failed</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">PID: -1</code></pre></div>\n</li>\n</ul>\n<hr>\n<!--fork urself, check if a child, exec a child-->\n<p>Executing a process by replacing the current process with a new process using <code class=\"language-text\">execl()</code>, <code class=\"language-text\">execlp()</code></p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;unistd.h></span></span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// create and run child process - a duplicate of parent</span>\n  pid_t pid <span class=\"token operator\">=</span> <span class=\"token function\">fork</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// both parent and child will execute this statement</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pid <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// error ocurred</span>\n    <span class=\"token function\">fprintf</span><span class=\"token punctuation\">(</span><span class=\"token constant\">stderr</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"fork failed\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pid <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// child process</span>\n\n    <span class=\"token comment\">// replace process with `ls -l`</span>\n    <span class=\"token function\">execlp</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/bin/ls\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ls\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-l\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// parent process will wait for the child to complete</span>\n\n    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"waiting for child process: %d\\n\"</span><span class=\"token punctuation\">,</span> pid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Another way of doing system calls is using <code class=\"language-text\">system()</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdlib.h></span></span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/*\n    The system() library call uses fork() to create a child process that\n    executes the shell command\n  */</span>\n\n  <span class=\"token function\">system</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/bin/ls\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Process Tree</h2>\n<h2><code class=\"language-text\">init</code> Process</h2>\n<p><code class=\"language-text\">init</code> or <code class=\"language-text\">systemd</code> is the first process started after booting. Older Unix systems use <code class=\"language-text\">init</code>, but many popular Linux systems now switched to <code class=\"language-text\">systemd</code>. <code class=\"language-text\">init</code> is the ancestor of all user processes (direct or indirect parent), i.e. root of process tree. PID of <code class=\"language-text\">init</code> is always <code class=\"language-text\">PID = 1</code>. Orphaned processes are adopted by <code class=\"language-text\">init</code>. Process tree can be printed using following:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">pstree <span class=\"token comment\"># or</span>\n<span class=\"token function\">ps</span> axjf</code></pre></div>\n<p>Note: some special system 'processes', or kernel threads, are created by kernel during bootstrap, and do not have to be descendants of <code class=\"language-text\">init</code>, such as <code class=\"language-text\">swapper</code> and <code class=\"language-text\">pagedaemon</code>.</p>\n<!-- 1 cpu & 4 virtual PCs -->\n<!-- program becomes a process when it's *loaded* -->","frontmatter":{"date":"January 29, 2019","title":"Processes pt.1","tags":["cpsc457"]}}},"pageContext":{"prev":{"fields":{"slug":"/cpsc329/lec3-token-based-auth"},"frontmatter":{"published":true,"tags":["cpsc329"]}},"slug":"/cpsc457/lec5-processes-pt1","next":{"fields":{"slug":"/cpsc457/lec6-processes-pt2"},"frontmatter":{"published":true,"tags":["cpsc457"]}},"category":"cpsc457"}}