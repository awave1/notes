{"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"cb534af9-61ee-5b6d-9e9e-54adf8de7218","html":"","frontmatter":{"date":"January 16, 2020","title":"Cryptography","description":"","published":false},"fields":{"slug":"/cpsc526/crypto","category":"cpsc526"}}},{"node":{"id":"95d3eb72-f6c7-52fa-8240-347588d17def","html":"<!--Content-->","frontmatter":{"date":"January 14, 2020","title":"intro","description":"","published":false},"fields":{"slug":"/cpsc411/intro","category":"cpsc411"}}},{"node":{"id":"6b646fe1-17f7-5e0d-9047-a1f8d7967d9e","html":"<p>WebAssembly can be represented in intermediate, human readable <strong>text format</strong>.\nThis form is designed to be exposed in text editors and essentially human readable, unlike actual WebAssembly binary output.</p>\n<h2>S-expressions</h2>\n<p>S-expression, \"symbolic expression\", or <code class=\"language-text\">sexpr</code>, <code class=\"language-text\">sexp</code> is a notation for tree representations.</p>\n<p>In S-expression, each node in the tree goes inside a pair of parenthesis - <code class=\"language-text\">(...)</code>.\nFirst label inside the parenthesis indicates what type of node it is and after there's a space separated list of attributes or child nodes.</p>\n<p>WebAssembly S-expression would look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"lisp\"><pre class=\"language-lisp\"><code class=\"language-lisp\"><span class=\"token punctuation\">(</span><span class=\"token car\">module</span> <span class=\"token punctuation\">(</span><span class=\"token car\">memory</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token car\">func</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Which represents a <strong>tree</strong> with a <strong>root</strong> node <code class=\"language-text\">module</code> and two child nodes, a <code class=\"language-text\">memory</code> node with the attribute <code class=\"language-text\">1</code> and a <code class=\"language-text\">func</code> node.</p>\n<h3>Simplest Module</h3>\n<p>The simplest possible module is</p>\n<div class=\"gatsby-highlight\" data-language=\"lisp\"><pre class=\"language-lisp\"><code class=\"language-lisp\"><span class=\"token punctuation\">(</span><span class=\"token car\">module</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>It is empty, but <strong>still a valid module</strong>.</p>\n<h3>Functionality in the module</h3>\n<p>All code in WebAssembly module is grouped into functions, which have the following code structure:</p>\n<div class=\"gatsby-highlight\" data-language=\"lisp\"><pre class=\"language-lisp\"><code class=\"language-lisp\"><span class=\"token punctuation\">(</span><span class=\"token car\">func</span> &lt;signature> &lt;local vars> &lt;body><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Where:</p>\n<ul>\n<li>The <strong>signature</strong> declares what are the function parameters and its return value</li>\n<li>The <strong>local vars</strong> are local variables for the function with explicit types</li>\n<li>The <strong>body</strong> is linear list of low-level instructions</li>\n</ul>\n<h2>Signatures and parameters</h2>\n<p>The signature is a sequence of parameter type declarations followed by a list of return type declarations.\nNote, that the absence of a <code class=\"language-text\">(result)</code> means the function does <strong>not</strong> return anything.</p>\n<p>Since each parameter has explicit type declaration, <code class=\"language-text\">wasm</code> currently provides the following four types:</p>\n<ul>\n<li><code class=\"language-text\">i32</code>: 32 integer</li>\n<li><code class=\"language-text\">i64</code>: 64 integer</li>\n<li><code class=\"language-text\">f32</code>: 32 float</li>\n<li><code class=\"language-text\">f64</code>: 64 float</li>\n</ul>\n<p>A single parameter is written <code class=\"language-text\">(param i32)</code> and the return type is written <code class=\"language-text\">(result i32)</code>. For example:</p>\n<div class=\"gatsby-highlight\" data-language=\"lisp\"><pre class=\"language-lisp\"><code class=\"language-lisp\"><span class=\"token punctuation\">(</span><span class=\"token car\">func</span> <span class=\"token punctuation\">(</span><span class=\"token car\">param</span> i32<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token car\">param</span> i32<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token car\">result</span> f64<span class=\"token punctuation\">)</span> ...<span class=\"token punctuation\">)</span></code></pre></div>\n<p>This function takes two 32-bit integers and returns a 64-bit float. After the signature, local variables are listed with their type, like <code class=\"language-text\">(local i32)</code>.\nParameters are just like locals except they are initialized with the value passed by the caller.</p>\n<h2>Getting and setting local parameters</h2>\n<p>Local variables/parameters can be read and written by the body of the function with <code class=\"language-text\">local.get</code> and <code class=\"language-text\">local.set</code> instructions.\nThese instructions refer to the item by its numeric index:</p>\n<div class=\"gatsby-highlight\" data-language=\"lisp\"><pre class=\"language-lisp\"><code class=\"language-lisp\"><span class=\"token punctuation\">(</span><span class=\"token car\">func</span> <span class=\"token punctuation\">(</span><span class=\"token car\">param</span> i32<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token car\">param</span> f32<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token car\">local</span> f64<span class=\"token punctuation\">)</span>\n  local.get <span class=\"token number\">0</span>\n  local.get <span class=\"token number\">1</span>\n  local.get <span class=\"token number\">2</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Therefore, <code class=\"language-text\">local.get 0</code> would get <code class=\"language-text\">param i32</code>, <code class=\"language-text\">local.get 1</code> gets <code class=\"language-text\">param f32</code> and etc.</p>\n<p>Numeric addresses can be replaced with labels:</p>\n<div class=\"gatsby-highlight\" data-language=\"lisp\"><pre class=\"language-lisp\"><code class=\"language-lisp\"><span class=\"token punctuation\">(</span><span class=\"token car\">func</span> <span class=\"token punctuation\">(</span><span class=\"token car\">param</span> $p1 i32<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token car\">param</span> $p2 f32<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token car\">local</span> $l1 f64<span class=\"token punctuation\">)</span>\n  local.get $p1\n  local.get $p2\n  local.get $l1\n<span class=\"token punctuation\">)</span></code></pre></div>\n<h2>Stack machines</h2>\n<p>wasm execution is defined in terms of <strong>stack machine</strong>, where the basic idea is that every type of instruction pushes and/or pops a certain number of defined type to/from a stack.\nFor example, <code class=\"language-text\">local.get</code> is defined to push the value of the local it read onto the stack, and <code class=\"language-text\">i32.add</code> pops two <code class=\"language-text\">i32</code> values (it implicitly grabs the previous two values pushed onto the stack), computes their sum (modulo <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mn>2</mn><mn>32</mn></msup></mrow><annotation encoding=\"application/x-tex\">2^{32}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span>) and pushes the resulting <code class=\"language-text\">i32</code> value.</p>\n<p>When a function is called, it starts with an empty stack which is gradually filled up and emptied as the body's instructions are executed. For example:</p>\n<div class=\"gatsby-highlight\" data-language=\"lisp\"><pre class=\"language-lisp\"><code class=\"language-lisp\"><span class=\"token punctuation\">(</span><span class=\"token car\">func</span> <span class=\"token punctuation\">(</span><span class=\"token car\">param</span> $p i32<span class=\"token punctuation\">)</span>\n  local.get $p\n  local.get $p\n  i32.add\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>The stack would look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Before add:\n[-----top-----]\n[      $p     ]\n[      $p     ]\n[----bottom---]\n\nAfter add:\n[-----top-----]\n[   $p + $p   ]\n[----bottom---]</code></pre></div>\n<p>The WebAssembly validation rules ensure the stack matches exaclty. So declaring <code class=\"language-text\">(result f32)</code> will require you to have exactly one <code class=\"language-text\">f32</code> at the end. So, if there's no result, the resulting stack would be empty.</p>\n<h2>Function body</h2>\n<p>Function body is a list of instruction that are followed as the function is called. For example:</p>\n<div class=\"gatsby-highlight\" data-language=\"lisp\"><pre class=\"language-lisp\"><code class=\"language-lisp\"><span class=\"token punctuation\">(</span><span class=\"token car\">module</span>\n  <span class=\"token punctuation\">(</span><span class=\"token car\">func</span> <span class=\"token punctuation\">(</span><span class=\"token car\">param</span> $lhs i32<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token car\">param</span> $rhs i32<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token car\">result</span> i32<span class=\"token punctuation\">)</span>\n    local.get $lhs\n    local.get $rhs\n    i32.add\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>The function gets two parameters, adds them together and returns the result.</p>\n<p>Full list of opcodes available at <a href=\"https://webassembly.github.io/spec/core/exec/index.html\">execution spec page</a>.</p>\n<h3>Calling the function</h3>\n<p>Like in ES module, wasm functions must be <code class=\"language-text\">export</code>ed. Like local vars, functions are identified by an index by default, but can use labels:</p>\n<div class=\"gatsby-highlight\" data-language=\"lisp\"><pre class=\"language-lisp\"><code class=\"language-lisp\"><span class=\"token punctuation\">(</span><span class=\"token car\">func</span> $add ...<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Adding export:</p>\n<div class=\"gatsby-highlight\" data-language=\"lisp\"><pre class=\"language-lisp\"><code class=\"language-lisp\"><span class=\"token punctuation\">(</span><span class=\"token car\">export</span> <span class=\"token string\">\"add\"</span> <span class=\"token punctuation\">(</span><span class=\"token car\">func</span> $add<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Here, <code class=\"language-text\">add</code> is the name of the function that can be accessed in JavaScript and <code class=\"language-text\">$add</code> picks out which WebAssembly function inside the module is being <code class=\"language-text\">export</code>ed.</p>\n<p>Final module:</p>\n<div class=\"gatsby-highlight\" data-language=\"lisp\"><pre class=\"language-lisp\"><code class=\"language-lisp\"><span class=\"token punctuation\">(</span><span class=\"token car\">module</span>\n  <span class=\"token punctuation\">(</span><span class=\"token car\">func</span> $add <span class=\"token punctuation\">(</span><span class=\"token car\">param</span> $lhs i32<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token car\">param</span> $rhs i32<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token car\">result</span> i32<span class=\"token punctuation\">)</span>\n    local.get $lhs\n    local.get $rhs\n    i32.add\n  <span class=\"token punctuation\">)</span>\n\n  <span class=\"token punctuation\">(</span><span class=\"token car\">export</span> <span class=\"token string\">\"add\"</span> <span class=\"token punctuation\">(</span><span class=\"token car\">func</span> $add<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<h2>Exploring fundamentals</h2>\n<p>This section covers more advanced features of wasm text format.</p>\n<h3>Calling functions from other functions in the same module</h3>\n<p>The <code class=\"language-text\">call</code> instruction calls a single function, given an index or a name.\nFor example, the following module contains two functions - one returns <code class=\"language-text\">42</code>, the other returns result + 1:</p>\n<div class=\"gatsby-highlight\" data-language=\"lisp\"><pre class=\"language-lisp\"><code class=\"language-lisp\"><span class=\"token punctuation\">(</span><span class=\"token car\">module</span>\n  <span class=\"token punctuation\">(</span><span class=\"token car\">func</span> $getAns <span class=\"token punctuation\">(</span><span class=\"token car\">result</span> i32<span class=\"token punctuation\">)</span>\n    i32.const <span class=\"token number\">42</span>\n  <span class=\"token punctuation\">)</span>\n\n  <span class=\"token punctuation\">(</span><span class=\"token car\">func</span> <span class=\"token punctuation\">(</span><span class=\"token car\">export</span> <span class=\"token string\">\"getAnswerPlus1\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token car\">result</span> $i32<span class=\"token punctuation\">)</span>\n    call $getAns\n    i32.const <span class=\"token number\">1</span>\n    i32.add\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">i32.const</code> defines a constant value and pushes it onto the stack.</p>\n<p>In order to call the code in JavaScript:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">WebAssembly<span class=\"token punctuation\">.</span><span class=\"token function\">instantiateStreaming</span><span class=\"token punctuation\">(</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'call.wasm'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">o</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">.</span>instance<span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">.</span><span class=\"token function\">getAnswerPlus1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>Importing functions (from JavaScript)</h3>\n<p>In previous section, we called WebAssembly function <em>from</em> JavaScript.\nNow we're going to import JavaScript function <em>into</em> WebAssembly module.</p>\n<div class=\"gatsby-highlight\" data-language=\"lisp\"><pre class=\"language-lisp\"><code class=\"language-lisp\"><span class=\"token punctuation\">(</span><span class=\"token car\">module</span>\n  <span class=\"token punctuation\">(</span><span class=\"token car\">import</span> <span class=\"token string\">\"console\"</span> <span class=\"token string\">\"log\"</span> <span class=\"token punctuation\">(</span><span class=\"token car\">func</span> $log <span class=\"token punctuation\">(</span><span class=\"token car\">param</span> i32<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">(</span><span class=\"token car\">func</span> <span class=\"token punctuation\">(</span><span class=\"token car\">export</span> <span class=\"token string\">\"logIt\"</span><span class=\"token punctuation\">)</span>\n    i32.const <span class=\"token number\">13</span>\n    call $log\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>We're asking to import the <code class=\"language-text\">log</code> function from <code class=\"language-text\">console</code> module.\nExported <code class=\"language-text\">logIt</code> function calls imported function using <code class=\"language-text\">call</code> instruction.</p>\n<p>Imported functions are just like regular wasm functions, they have a signature that WebAssembly validation checks <strong>statically</strong>, and they are given an index and can be named and called.</p>\n<p>We can also pass any JavaScript to our wasm module. For example:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">log</span><span class=\"token punctuation\">:</span> <span class=\"token parameter\">arg</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>arg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nWebAssembly<span class=\"token punctuation\">.</span><span class=\"token function\">instantiateStreaming</span><span class=\"token punctuation\">(</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'logger.wasm'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> obj<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">o</span> <span class=\"token operator\">=></span> o<span class=\"token punctuation\">.</span>instance<span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">.</span><span class=\"token function\">logIt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>WebAssembly globals</h3>\n<p>WebAssembly has the ability to create global variable instances, accessible from both JavaScript and importable/exportable across one or more <code class=\"language-text\">WebAssembly.Module</code> instances.\nThis allows <strong>dynamil linking</strong> of multiple modules.</p>\n<p>In <code class=\"language-text\">wat</code>, it would look something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"lisp\"><pre class=\"language-lisp\"><code class=\"language-lisp\"><span class=\"token punctuation\">(</span><span class=\"token car\">module</span>\n  <span class=\"token punctuation\">(</span><span class=\"token car\">global</span> $g <span class=\"token punctuation\">(</span><span class=\"token car\">import</span> <span class=\"token string\">\"js\"</span> <span class=\"token string\">\"global\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token car\">mut</span> i32<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token punctuation\">(</span><span class=\"token car\">func</span> <span class=\"token punctuation\">(</span><span class=\"token car\">export</span> <span class=\"token string\">\"getGlobal\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token car\">result</span> i32<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">(</span><span class=\"token car\">global</span>.get $g<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span>\n\n  <span class=\"token punctuation\">(</span><span class=\"token car\">func</span> <span class=\"token punctuation\">(</span><span class=\"token car\">export</span> <span class=\"token string\">\"incGlobal\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">(</span><span class=\"token car\">global</span>.set $g\n      <span class=\"token punctuation\">(</span><span class=\"token car\">i32</span>.add <span class=\"token punctuation\">(</span><span class=\"token car\">global</span>.get $g<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token car\">i32</span>.const <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>We specify a global value using <code class=\"language-text\">global</code> keyword and using <code class=\"language-text\">mut</code> to specify that value is mutable.</p>\n<p>Equivalent JavaScript expression:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> global <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebAssembly<span class=\"token punctuation\">.</span>Global</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> \n  value<span class=\"token punctuation\">:</span> <span class=\"token string\">'i32'</span><span class=\"token punctuation\">,</span>\n  mutable<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>WebAssembly Memory</h3>\n<h3>WebAssembly Tables</h3>","frontmatter":{"date":"January 14, 2020","title":"WebAssembly Text Format","description":"","published":true},"fields":{"slug":"/wasm-wat","category":"wasm-wat"}}},{"node":{"id":"7078eb45-598f-5479-8314-ac272ba1920b","html":"<!--\n  Assignments:\n    1. Getting going\n    2. lambda calc\n    3. abstract machines\n    4. type inference\n-->\n<p>Course overview:</p>\n<ol>\n<li>Haskell</li>\n<li>\n<p>datatypes</p>\n<ul>\n<li>folds (<code class=\"language-text\">foldr</code>)</li>\n</ul>\n</li>\n<li>classes</li>\n<li>modads</li>\n<li>Lambda Calculus</li>\n<li>syntax, substitution, rewriting (beta-reduction)</li>\n<li>representing programs, computability</li>\n<li>Type Theory</li>\n<li>typed lambda calculations</li>\n<li>proof theory</li>\n<li>type inference</li>\n</ol>\n<hr>\n<h2>Haskell</h2>\n<p>Defining datatypes in Haskell. The simplest/most basic is</p>\n<div class=\"gatsby-highlight\" data-language=\"hs\"><pre class=\"language-hs\"><code class=\"language-hs\"><span class=\"token keyword\">data</span> <span class=\"token constant\">Bool</span> <span class=\"token operator\">=</span> <span class=\"token constant\">True</span> <span class=\"token operator\">|</span> <span class=\"token constant\">False</span></code></pre></div>\n<p>We could define infix <code class=\"language-text\">&amp;&amp;</code> operator:</p>\n<div class=\"gatsby-highlight\" data-language=\"hs\"><pre class=\"language-hs\"><code class=\"language-hs\"><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;&amp;</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Bool</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span>\n  <span class=\"token constant\">True</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token constant\">True</span> <span class=\"token operator\">=</span> <span class=\"token constant\">True</span>\n  <span class=\"token hvariable\">_</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token hvariable\">_</span> <span class=\"token operator\">=</span> <span class=\"token constant\">False</span>\n\n<span class=\"token builtin\">not</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Bool</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span>\n<span class=\"token builtin\">not</span> <span class=\"token constant\">True</span> <span class=\"token operator\">=</span> <span class=\"token constant\">False</span>\n<span class=\"token builtin\">not</span> <span class=\"token constant\">False</span> <span class=\"token operator\">=</span> <span class=\"token constant\">True</span></code></pre></div>\n<p>The datatype of natural numbers</p>\n<div class=\"gatsby-highlight\" data-language=\"hs\"><pre class=\"language-hs\"><code class=\"language-hs\"><span class=\"token keyword\">data</span> <span class=\"token constant\">Nat</span> <span class=\"token operator\">=</span> <span class=\"token constant\">Succ</span> <span class=\"token constant\">Nat</span>\n         <span class=\"token operator\">|</span> <span class=\"token constant\">Zero</span>\n\n<span class=\"token constant\">Zero</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Nat</span>\n<span class=\"token constant\">Succ</span> <span class=\"token constant\">Zero</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Nat</span>\n<span class=\"token constant\">Succ</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">Succ</span> <span class=\"token constant\">Zero</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Nat</span></code></pre></div>\n<p>The iterator is also called a <strong>fold</strong>:</p>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>i</mi><mi>t</mi><mo stretchy=\"false\">(</mo><mtext>coof</mtext><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo><mo>=</mo><msup><mi>f</mi><mi>n</mi></msup><mo stretchy=\"false\">(</mo><msub><mi>c</mi><mn>0</mn></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">it(\\text{coof})(n) = f^n(c_{0})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\">i</span><span class=\"mord mathdefault\">t</span><span class=\"mopen\">(</span><span class=\"mord text\"><span class=\"mord\">coof</span></span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathdefault\">n</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7143919999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathdefault mtight\">n</span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathdefault\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span>\n<div class=\"gatsby-highlight\" data-language=\"hs\"><pre class=\"language-hs\"><code class=\"language-hs\"><span class=\"token hvariable\">foldNat</span> <span class=\"token operator\">::</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">c</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">c</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">c</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Nat</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">c</span>\n<span class=\"token hvariable\">foldNat</span> <span class=\"token hvariable\">f</span> <span class=\"token hvariable\">i</span> <span class=\"token constant\">Zero</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">i</span>\n<span class=\"token hvariable\">foldNat</span> <span class=\"token hvariable\">f</span> <span class=\"token hvariable\">i</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">succ</span> <span class=\"token hvariable\">n</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">f</span><span class=\"token punctuation\">(</span><span class=\"token hvariable\">foldNat</span> <span class=\"token hvariable\">f</span> <span class=\"token hvariable\">i</span> <span class=\"token hvariable\">n</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token hvariable\">add</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Nat</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Nat</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Nat</span>\n<span class=\"token hvariable\">add</span> <span class=\"token hvariable\">n</span> <span class=\"token hvariable\">m</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">foldNat</span> <span class=\"token constant\">Succ</span> <span class=\"token hvariable\">n</span> <span class=\"token hvariable\">m</span>\n<span class=\"token hvariable\">add</span> <span class=\"token hvariable\">n</span> <span class=\"token hvariable\">zero</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">n</span>\n<span class=\"token hvariable\">add</span> <span class=\"token hvariable\">n</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">succ</span> <span class=\"token hvariable\">m</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">succ</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">add</span> <span class=\"token hvariable\">n</span> <span class=\"token hvariable\">m</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token hvariable\">mult</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Nat</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Nat</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Nat</span>\n<span class=\"token hvariable\">mult</span> <span class=\"token constant\">Zero</span> <span class=\"token hvariable\">m</span> <span class=\"token operator\">=</span> <span class=\"token constant\">Zero</span>\n<span class=\"token hvariable\">mult</span> <span class=\"token hvariable\">m</span> <span class=\"token constant\">Zero</span> <span class=\"token operator\">=</span> <span class=\"token constant\">Zero</span>\n<span class=\"token hvariable\">mult</span> <span class=\"token hvariable\">n</span> <span class=\"token hvariable\">m</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">foldNat</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">z</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">add</span> <span class=\"token hvariable\">z</span> <span class=\"token hvariable\">m</span> <span class=\"token hvariable\">z</span><span class=\"token punctuation\">)</span> <span class=\"token constant\">Zero</span> <span class=\"token hvariable\">n</span></code></pre></div>\n<h3>Truncated Subtraction or 'Monus'</h3>\n<p>To program it, we need a <code class=\"language-text\">pred</code> function.</p>\n<div class=\"gatsby-highlight\" data-language=\"hs\"><pre class=\"language-hs\"><code class=\"language-hs\"><span class=\"token builtin\">pred</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Nat</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Nat</span>\n<span class=\"token builtin\">pred</span> <span class=\"token constant\">Zero</span> <span class=\"token operator\">=</span> <span class=\"token constant\">Zero</span>\n<span class=\"token builtin\">pred</span> <span class=\"token constant\">Succ</span> <span class=\"token hvariable\">n</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">n</span>\n\n\n<span class=\"token hvariable\">monus</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Nat</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Nat</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Nat</span>\n<span class=\"token hvariable\">monus</span> <span class=\"token hvariable\">n</span> <span class=\"token hvariable\">m</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">foldNat</span> <span class=\"token builtin\">pred</span> <span class=\"token hvariable\">n</span> <span class=\"token hvariable\">m</span>\n<span class=\"token hvariable\">monus</span> <span class=\"token hvariable\">n</span> <span class=\"token constant\">Zero</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">n</span>\n<span class=\"token hvariable\">monus</span> <span class=\"token hvariable\">n</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">succ</span> <span class=\"token hvariable\">m</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">pred</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">monus</span> <span class=\"token hvariable\">n</span> <span class=\"token hvariable\">m</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Lists</h3>\n<div class=\"gatsby-highlight\" data-language=\"hs\"><pre class=\"language-hs\"><code class=\"language-hs\"><span class=\"token keyword\">data</span> <span class=\"token constant\">List</span> <span class=\"token hvariable\">a</span> <span class=\"token operator\">=</span> <span class=\"token constant\">Nil</span>\n            <span class=\"token operator\">|</span> <span class=\"token constant\">Cons</span> <span class=\"token hvariable\">a</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">List</span> <span class=\"token hvariable\">a</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token hvariable\">foldList</span> <span class=\"token operator\">::</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">a</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">c</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">c</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">c</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">(</span><span class=\"token constant\">List</span> <span class=\"token hvariable\">a</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">c</span>\n<span class=\"token hvariable\">foldList</span> <span class=\"token hvariable\">f</span> <span class=\"token hvariable\">el</span> <span class=\"token constant\">Nil</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">el</span>\n<span class=\"token hvariable\">foldList</span> <span class=\"token hvariable\">f</span> <span class=\"token hvariable\">el</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">Cons</span> <span class=\"token hvariable\">a</span> <span class=\"token hvariable\">as</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">f</span> <span class=\"token hvariable\">a</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">foldList</span> <span class=\"token hvariable\">f</span> <span class=\"token hvariable\">as</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Suppose there's a list of integers <code class=\"language-text\">[1undefined 3undefined 7undefined 9undefined 2undefined 864undefined 1]</code>, find the sum</p>\n<div class=\"gatsby-highlight\" data-language=\"hs\"><pre class=\"language-hs\"><code class=\"language-hs\"><span class=\"token builtin\">sum</span> <span class=\"token operator\">::</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">List</span> <span class=\"token constant\">Int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Int</span>\n<span class=\"token builtin\">sum</span> <span class=\"token hvariable\">l</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">foldList</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">+</span><span class=\"token punctuation\">)</span> <span class=\"token number\">0</span> <span class=\"token hvariable\">l</span></code></pre></div>","frontmatter":{"date":"January 14, 2020","title":"Intro: Foundations Of Functional Programming","description":"","published":false},"fields":{"slug":"/cpsc521/intro","category":"cpsc521"}}},{"node":{"id":"a487af45-48df-558f-ba3a-fae59b3fe532","html":"<!-- TODO:\n  []: review network stack\n-->\n<p>General themes:</p>\n<ul>\n<li>computers do what they're told</li>\n<li>code is data and data is code</li>\n<li>\n<p>features and convenience create vulnerabilities</p>\n<ul>\n<li>this includes features of programming languages</li>\n<li>think of <code class=\"language-text\">eval(</code>console.log('123')<code class=\"language-text\">);</code></li>\n</ul>\n</li>\n<li>no such thing as 100% secure, goal of security is <strong>risk management</strong>.</li>\n</ul>\n<p>The goal of computer security is to keep the systems functioning as intended free of <strong>abuse</strong>.</p>\n<ul>\n<li>keep data accessed only as desired</li>\n<li>secure access to resources and capabilities</li>\n<li>enable privacy and anonymity</li>\n<li>\n<p>do all of this:</p>\n<ul>\n<li>with an <em>adversary</em></li>\n<li>on a budget</li>\n</ul>\n</li>\n</ul>\n<p>Four goals of computer security:</p>\n<ol>\n<li><strong>Confidentiality</strong></li>\n<li>non public information accessible only to authorized parties</li>\n<li>stored (at <em>rest</em>) or in transmition (in <em>motion</em>)</li>\n<li>technical means: <strong>encryption</strong></li>\n<li>procedure means: offline storage in secure sites</li>\n<li><strong>Integrity</strong></li>\n<li>data, software and hardware remains <strong>unaltered</strong></li>\n<li>checksums <strong>detect</strong> this</li>\n<li>preventing changes is harder</li>\n<li>includes integrity of people (e.g. bribery, corruption)</li>\n<li><strong>Authorization</strong></li>\n<li>resources accessed only by authorized entities</li>\n<li>approved by resource owner</li>\n<li>achieved by <strong>access control mechanisms</strong> (e.g. passwords, keycards)</li>\n<li><strong>Availability</strong></li>\n<li>information, services, and resources <strong>can</strong> be used</li>\n<li>protect against intentional deletion or denial of service</li>\n</ol>\n<p>This is known as <strong>CIA</strong> - <strong>C</strong>onfidentiality, <strong>I</strong>ntegrity, <strong>A</strong>vailability ( <strong>A</strong>uthorization ).</p>\n<h3>Security Policies and Attacks</h3>\n<p>Security protects <em>assets</em>, information, software, hardware, computing and communication services.\nA <strong>security policy</strong> specifies system's rules and practices, what <em>is</em> and what <em>is not</em> allowed.\nA <strong>Security mechanism</strong> implements a security policy.\nIdeally the mechanism enforces the rules outlined in policy.\nMechanism can include protocols humans should follow.</p>\n<blockquote>\n<p>🔥 Every security mechanism <strong>implies</strong> a policy objective</p>\n</blockquote>\n<p>Attacks often result from the mechanism's assumptions.\nAnd you notice it when you start seeing it everything in terms of security mechanisms in order to fulfil security policies.</p>\n<h2>Theoretical Security</h2>\n<p>A system has <strong>states</strong>. Policy defines which states are <strong>authorized</strong>(secure) and <strong>unauthorized</strong>(insecure), e.g. lock the door when nobody's home policy <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>→</mo></mrow><annotation encoding=\"application/x-tex\">\\to</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.36687em;vertical-align:0em;\"></span><span class=\"mrel\">→</span></span></span></span> four states for two binary values.\nPolicy is <strong>violated</strong> if the system moves into an authorized state.</p>\n<h3>Security Attacks</h3>\n<p>Deliberate action, if seccessful causes a <strong>security violation</strong>.\n<strong>Attack vector</strong> is sequence of steps to do this.\nAttack exploits <strong>vulnerabilities</strong>:</p>\n<ul>\n<li>misconfigurations</li>\n<li>unsafe defaults</li>\n<li>design flaws</li>\n<li>implementation flaws</li>\n</ul>\n<p>Source of attack is called an <strong>adversary</strong> or an <strong>attacker</strong>.</p>\n<h3>Security Threat</h3>\n<p><strong>Threat</strong> is any combination of circumstances and entities that may harm assets through a security violation.\nThe mere existence of a threat agent and a vulnerability do not imply an attack:</p>\n<ul>\n<li>indifference, insufficient incentive, insufficient resuouces</li>\n</ul>\n<p>Attacker has a goal and a budget:</p>\n<ul>\n<li>goal: harness a resource, extract data, denying service, tampering with data, causing mischief</li>\n<li>budget: time, money, abilities</li>\n</ul>\n<h3>No Perfect Security</h3>\n<p>Security violations have costs.\nSecurity <strong>countermeasures</strong> or <strong>protections</strong> have costs.\n<strong>Risk assessment</strong> analyzes these factors to estimate risk:</p>\n<ul>\n<li><strong>quantitative risk assessment</strong> computes numerical estimates of risk</li>\n<li>\n<p><strong>qualitative risk assessment</strong> ranks or orders risks</p>\n<ul>\n<li>very low to very high for probability and cost</li>\n</ul>\n</li>\n</ul>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>R</mi><mo>=</mo><mi>T</mi><mo>⋅</mo><mi>V</mi><mo>⋅</mo><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">R = T \\cdot V \\cdot C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.07153em;\">C</span></span></span></span></span>\n<blockquote>\n<p>risk is <code class=\"language-text\">threat * existence of vulnerabilities * cost</code></p>\n</blockquote>\n<h3>Why is Security Challenging</h3>\n<ul>\n<li>\n<p>Intelligent adaptive adversary</p>\n<ul>\n<li>can induce <strong>zero probability</strong> or <strong>low probability</strong> faults</li>\n<li>can do arbitrary behaviour, e.g. give values as input that would normally never be given</li>\n</ul>\n</li>\n<li>\n<p>Computer systems are built on abstractions</p>\n<ul>\n<li>we forget the details when building the systems</li>\n<li>attackers use these details</li>\n</ul>\n</li>\n<li>\n<p>an evolving field</p>\n<ul>\n<li>adversary evolves with defences</li>\n<li><strong>arms race</strong> <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>→</mo></mrow><annotation encoding=\"application/x-tex\">\\to</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.36687em;vertical-align:0em;\"></span><span class=\"mrel\">→</span></span></span></span></li>\n</ul>\n</li>\n<li>\n<p>computers also evolve <strong>faster</strong> than security</p>\n<ul>\n<li>features, patches, complexity</li>\n<li>vulnerabilities outscale lines of code</li>\n<li>backwards compatibility</li>\n</ul>\n</li>\n<li>\n<p><strong>assymetries</strong></p>\n<ul>\n<li>defender must defend <strong>all fronts</strong></li>\n<li>attacker needs only one weakness</li>\n<li>defenses are public, attacks are <strong>private</strong></li>\n<li>attackers are <strong>nimble</strong>, defenders have <strong>sunk costs</strong></li>\n<li>attackers have no rules, defenders have protocols</li>\n<li>attackers can do nothing, defenders offer services</li>\n<li>attackers are criminal, defenders follow laws</li>\n</ul>\n</li>\n<li>\n<p><strong>minimal deterrence</strong></p>\n<ul>\n<li>Internet facilitates anonymity</li>\n<li>attacks of great scale at no cost</li>\n<li>attackers come from anywhere on the planet</li>\n</ul>\n</li>\n<li>\n<p><strong>security has costs</strong></p>\n<ul>\n<li>overhead, burden, time to deploy</li>\n</ul>\n</li>\n<li>\n<p><strong>security is hard to measure</strong></p>\n<ul>\n<li>was the investment worth it?</li>\n<li>what is the value of a <strong>lack of disaster</strong>?</li>\n</ul>\n</li>\n<li><strong>market economics</strong></li>\n<li><strong>bad design</strong></li>\n<li><strong>social engineering</strong></li>\n<li><strong>government obstacles</strong></li>\n</ul>\n<h2>Design Principles</h2>\n<p>Design principles are fundamental for security.</p>\n<h3>1. Simplicity And Necessity</h3>\n<p>Security works the best when it has as little features as possible. The more features the more attack surface there is.\nDesigns need to be small and simple. Functionality needs to be <strong>minimal</strong>, e.g. disable unused functionality, disable by default.</p>\n<h3>2. Safe Defaults</h3>\n<p>Use safe defaults settings, these settings aren't usually changed, e.g.:</p>\n<ul>\n<li>firewall block all ports by default</li>\n<li>encrypt by default, use HTTPs</li>\n<li>traffic lights blink red on failure</li>\n<li>door unlock during fire alarm</li>\n</ul>\n<p>Favour explicit permission (whitelists) over explicit exclusion (blacklist). System needs to be designed to be fail-safe, fal \"closed\" instead of \"open\".</p>\n<h3>3. Open Design</h3>\n<p>It relates to Kerchkoff principle. The idea is the security system shouldn't be secret and secure, it should be <em>open</em> and secure. The security shouldn't stem from the fact that <em>no one</em> knows how it works. People should be able to look at such systems. Such systems should be invited to open review and analysis, thus ending up with better security. Yet, leverage unpredictability if there's no disadvantage, e.g. no gain to publish blueprints, or your vacation schedule.</p>\n<h3>4. Least Privilege</h3>\n<p>Allocate the fewest privileges needed for a task and for the shortest duration necessary, e.g.</p>\n<ul>\n<li>use root to do something and then exit</li>\n<li><code class=\"language-text\">sudo</code> and <code class=\"language-text\">sudo</code> session riding</li>\n<li>don't give every app access to the microphone/webcam/etc.</li>\n</ul>\n<p>Base the system on need-to-know basis. If you needn't access to something, then you shouldn't have access to it.</p>\n<h3>5. Time-tested Tools</h3>\n<p>Rely on established methods to accomplish security and <strong>don't</strong> roll your own crypto. Heavily scrutinized tools are less likely flawed, they're time-tested. If attacks on such tools did occur they were likely did get patched.</p>\n<h3>6. Least Surprise</h3>\n<p>Design mechanism and interfaces to behave as users expect. Any difference between what user think is happening and what is happening is bad. Design need to be aligned with users' mental models, especially when errors are irreversible. Beware of designs suited to trained experts or which require training.</p>\n<h3>7. Defence In Depth</h3>\n<p>Use multiple layers, each backing up the other. For example, don't just rely on password, but also rely on tokens, 2FA, etc. Design each to be comparably strong. The idea is the attackers will go for the weakest link, thus you would want to strengthen the weakest link first. Always assume that an attacker will bypass some or layer will fail.</p>\n<h3>8. Evidence Production</h3>\n<p>Log information that may provide accountability, insight later on. Have some system analyzing logs so that you know if there's an attack happening. This help discover attacks, determine effects. e.g.:</p>\n<ul>\n<li>when sudo is used by an authorized party</li>\n<li>when someone logs into a server</li>\n<li>when someone plugs in a USB</li>\n<li>when someone accesses a file</li>\n<li>when certain files or special directories are modified</li>\n</ul>\n<p>Help build intrusion detection tools. These are basically like <em>tripwires</em>: issue alerts if a rule was broken.</p>\n<h3>9. Datatype Verification</h3>\n<p>Verify all received data conforms to expected or assumed properties. You cannot trust all the input, thus inputs have to be checked. Never assume anything about input data, especially when it is spurious input from the Internet. Inputs need to be sanitized and canonicalized (pick a single standard for certain inputs).</p>\n<h3>10. Remnant Removal (Secure Deletion)</h3>\n<p>The idea is there's always going to be some data left behind. The data shouldn't be left behind. Remove all traces of critical information, e.g.:</p>\n<ul>\n<li>don't store keys in RAM after use</li>\n<li><strong>securely delete</strong> files you do not want</li>\n</ul>\n<h3>11. Reluctant Allocation</h3>\n<p>Be reluctant to expend effort or allocate resources, especially with unauthenticated external agent. Be reluctant to extend privileges or act on someone's behalf. Place burden of proof of identity on those who initiate communication. The burden of identity should be on <strong>someone/something using</strong> the system and <em>not</em> on the system.</p>\n<h3>12. Security By Design</h3>\n<p>Build the security in from the start. The security should be at the center of the design. Don't staple it on at a late stage. Don't add security purposes to something not designed for it. Explicitly state:</p>\n<ul>\n<li>design goals of security mechanisms</li>\n<li>what they are not designed to do</li>\n<li>assumption, especially ones involving trust</li>\n</ul>\n<h3>13. Security is Economics</h3>\n<p>Attacks and defences have costs. Consequences of attacks have costs. Real world security balances these.</p>\n<h3>14. Know Your Adversary</h3>\n<p>Security is defined relatively to adversary. We design the security based on who the adversary is, what their goals are. The better we know the adversary, the better we know what they're trying to do.</p>\n<h2>Adversary Modelling</h2>\n<p>An adversary has an objective: to get access to the assets. You have to know what the assets are and what an adversary would want. An adversary model:</p>\n<ul>\n<li>identifies objectives</li>\n<li>methods</li>\n<li>capabilities</li>\n<li>funding level</li>\n</ul>\n<p>A categorical schema classifies well-defines adversaries into groups. For example</p>\n<ul>\n<li>foreign intelligence</li>\n<li>terrorists</li>\n<li>politically motivated adversaries, hacktivists</li>\n<li>industrial espionage agents</li>\n<li>organized crimes</li>\n<li>lesser criminals, \"script kiddies\"</li>\n<li>malicious insiders, e.g. disgruntled employees</li>\n<li>non-malicious employees</li>\n<li>researches, casual hackers and bug bounty hunters</li>\n</ul>\n<blockquote>\n<p>It's important to know who you're up against</p>\n</blockquote>\n<h3>Types of Attacks</h3>\n<h4>Passive Attack</h4>\n<p>Nothing is different as a result of attacker being present. Some data is exchanged, communication happens without interference, e.g. eavesdropping</p>\n<h4>Active Attack</h4>\n<p>Attacker interferes with communication, alters data.</p>\n<h4>Targeted Attack</h4>\n<p>Aimed at specific individuals or organizations</p>\n<h4>Oppurtunistic Attacks or Generic Attacks</h4>\n<p>Aimed at arbitrary victims</p>\n<ul>\n<li>e.g. log into anyone's account</li>\n</ul>\n<h4>Outsider Attack</h4>\n<p>Has no special access to target network</p>\n<h4>Insider attack</h4>\n<p>Party has some advantage over outsiders. Taking over one account may boost outsider to an insider</p>\n<h3>Threat Model</h3>\n<p>Developing a threat model, it's important to know</p>\n<ul>\n<li>what attacks to consider</li>\n<li>what assets you need to defend</li>\n<li>who is your adversary</li>\n</ul>\n<p>Bad threat models:</p>\n<ul>\n<li>give false sense of security</li>\n<li>have invalid assumptions and misplaced trusts</li>\n<li>focus on the wrong threats</li>\n</ul>\n<blockquote>\n<p>The more accurate the model, the better suited any security meant to thwart them</p>\n</blockquote>","frontmatter":{"date":"January 14, 2020","title":"Intro","description":"","published":false},"fields":{"slug":"/cpsc526/intro","category":"cpsc526"}}},{"node":{"id":"836f8366-8745-5e37-8181-1363446e73bd","html":"<h2>Geographical features</h2>\n<p>China is located in East Asia. To the east of China, there's South China sea and the Pacific Ocean. In the west, China is bounded by the mountains, the Himalayas, and by the Taklamakan Desert. In the north, there's Gobi Desert, by the Yellow (Huang) River.</p>\n<hr>\n<p>China proper, Inner China was a term used by Western writers on the Manchu Qing dynasty to express a distinction between the core and frontier regions of China.</p>\n<p>Sub-regions of China proper:</p>\n<h3>1. North China Plain</h3>\n<p>Vast expensive farmlands. Very easy to travel. It used to be warm, wet region, but after years of flying, it became dry. It is here, where the first Chinese communities originated. Today, the north China Plain is where most of the people are.</p>\n<h3>2. South China</h3>\n<p>Located South of Yahtzee (?) River. South china is very different from North China Plain. Region is mountaneous in contrast to North China. The lowlands along the Yahtzee (?) river divided into farmlands and settlements.</p>\n<h3>3. Sichuan Basin</h3>\n<p>Important region of China. The homeland of pandas. Sichuan is flat area and very good farmland. In ancient times it was hard to get there. The culture in Sichuan Basin is different from the other parts due to its isolated location. During the war time, the mountains protect people.</p>\n<h3>4. North West</h3>\n<p>Harsh weather, high mountains, deeply cut valleys. The area is not very populated. In the ancient times, criminals would be sent there as punishment.</p>\n<hr>\n<p>Chinese describe people living outside of China proper as Di, Yi, Man, Rong (N, E, S, W respectively). Basically each term means \"barbarian\". Chinese see themselves as civilized because of writing, unlike those \"barbarians\". There's very little information about the development of writing system.</p>\n<p>China proper is defined by the two rivers: Yellow River and Yangtze River. Both of the rivers flow from East to West.</p>\n<h3>Yellow River</h3>\n<p>Flows from East to West, flowing into the sea. Yellow river is called \"yellow\" because lots of the sud (?). Yellow river mouth caused lots of floods, therefore controlling the river means dealing with a lot of natural disasters. However, in the Tibet, the origin of Yellow River, the water is clear, so the river isn't always actually yellow.</p>\n<blockquote>\n<p>Need to know location and the shape for the tests.</p>\n</blockquote>\n<h3>Yangtze (Chang-Jiang) River</h3>\n<p>In Chinese called Chang-Jiang, \"long\" river. Also flows from East to West. The scenery along the river has changed due to the construction of dam(s) (?).</p>\n<blockquote>\n<p>(Assuming) Need to know location and the shape for the tests.</p>\n</blockquote>\n<h2>Chinese Population</h2>\n<p>China is a multi-ethnic country. <strong>The Han People</strong> is the majority of chinese people. Other 55 ethnic groups - 5% of the population.</p>\n<hr>\n<h2>Early Chinese Civilization</h2>\n<p>Early human ancestors are found in China. For example, <strong>Peking Man</strong>. The fossils of the Peking Man were found in the caves near the Beijing (Peking). Similar fossils were founds in far West of China. 40,000 yrs ago, Homo Sapiens fossils were found in China, showing there were people coming out of China as well (?).</p>\n<p>About 12,000 years ago, important development takes place in Ancient China. This development is domestication of grain - <strong>rice</strong>. (Not all chineese/asians like rice, north ppl prefer flour food to rice.) Earliest evidence of rice farming could be found in <strong>Jiangsu province</strong>.</p>\n<p>The domestication of rice brings shift from hunting to cultivation of crops that keeps people located in the same spot - <strong>emergence of villages</strong>. Emerges of villages marks the beginning of new lifestyle - sedimentary lifestyle, ppl stay in villages for years.</p>\n<p>Early civilization lives along the river valleys, specifically along the Yellow River valley.</p>\n<h3>Yellow River Settlements</h3>\n<p>This civilization can be specified by the pottery. How the pottery was made, we can tell the history of the group of people that lived there. They provide us with clues about such early civilization.</p>\n<h3>Yangshao Culture</h3>\n<p>Located in the (north-)west, primarily Shannxi and Gansu provice. It is dated from around 5000 BC to 3000 BC.</p>\n<p>Yangshao villages and dwellings were built by digging a rounded rectangular pit a few feet deep. Judging by the graves, there was some hierarchy in the culture. Wealthy people were buried with their possessions. Emerging society has women leadership.</p>\n<h3>Longshan Culture</h3>\n<p>Literally means Dragon Mountain. Located in the middle and lower Yellow River valley areas of northern China from about 3000 to 1900 BC, what is now Shandong province. Longshan culture is sometimes referred to as <strong>Black Pottery Culture</strong>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/notes/static/0bfb5461e4215a4b6c1aed0e5ffeb836/571ad/geo-population-1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAG6LlN5El//xAAaEAACAwEBAAAAAAAAAAAAAAABAgADERIh/9oACAEBAAEFAnZcWxSN2WIIi9AeD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAMBAQAAAAAAAAAAAAAAAAABERAh/9oACAEBAAY/Aoxdylef/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAERITFBcf/aAAgBAQABPyFaRE0dyELLBmX1FpbwWqW/T//aAAwDAQACAAMAAAAQE8//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPxAn/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/EK1//8QAGxABAQEAAwEBAAAAAAAAAAAAAREAIUFRMZH/2gAIAQEAAT8Qe88Re4YZQMCOCFa9JjBKCg/L7ioY6khevzIHG9rnf//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Longshan Black Pottery\"\n        title=\"Longshan Black Pottery\"\n        src=\"/notes/static/0bfb5461e4215a4b6c1aed0e5ffeb836/53025/geo-population-1.jpg\"\n        srcset=\"/notes/static/0bfb5461e4215a4b6c1aed0e5ffeb836/e7722/geo-population-1.jpg 163w,\n/notes/static/0bfb5461e4215a4b6c1aed0e5ffeb836/bdb37/geo-population-1.jpg 325w,\n/notes/static/0bfb5461e4215a4b6c1aed0e5ffeb836/53025/geo-population-1.jpg 650w,\n/notes/static/0bfb5461e4215a4b6c1aed0e5ffeb836/571ad/geo-population-1.jpg 700w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>The pottery in Longshan isn't as decorated as in Yangshao.</p>\n<p>Longshan culture dominated the North of Yellow river. (?)</p>\n<h3>Liangzhu Culture</h3>\n<p>Located in <strong>Jiangsu province</strong>, in the Yangtze River Delta of China, around 2500 BC.</p>\n<h3>Sanxingdui Culture</h3>\n<p>Located in <strong>Sichuan Province</strong>, around 1600-221 BC.</p>\n<blockquote>\n<p>\"The discovery at Sanxingdui, as well as other discoveries such as the Xingan tombs in Jiangxi, challenges the traditional narrative of Chinese civilization spreading from the central plain of the Yellow River, and Chinese archaeologists have begun to speak of multiple centers of innovation jointly ancestral to Chinese civilization.\" <a href=\"https://en.wikipedia.org/wiki/Sanxingdui\">wiki/Sanxingdui</a></p>\n</blockquote>","frontmatter":{"date":"January 14, 2020","title":"Chinese Civilization: Intro","description":"Geographical features & population","published":true},"fields":{"slug":"/options/chin317/geo-population","category":"options"}}},{"node":{"id":"f74631bb-220a-517b-b9bb-1ed2fdf5eec7","html":"<h2>What is Geogrpahy</h2>\n<ul>\n<li>Study of earth</li>\n<li>Spatial science</li>\n<li>\n<p>Study of spatial variation</p>\n<ul>\n<li>looking at impacts of climate change</li>\n<li>agriculture</li>\n</ul>\n</li>\n</ul>\n<p>Geography - the original science. Has fluctuated in it's percieved importance in\nscience over history.\nAn extremely fragmented discipline, often considered too broad to be coheisive.\nMain purpose to interpret relationships in space of both in physical and human environments.\nMany other disciplines have evolved from Geography.</p>\n<h3>Geography's Niche</h3>\n<p>Geogrpahy is both a physical and a social science.\nGeography looks at many grey areas between the physical and human environment.\nTherefore the same subject matter is often studied from both the human and physical perspective. e.g. pollution - focuses on physical @TODO.</p>\n<h3>Evolution of the Discipline</h3>\n<p>Ancient Period:</p>\n<ul>\n<li>Eratosthenes - <em>Geo</em> Earth - <em>graphein</em> to write (to write about the Earth)</li>\n<li>Strabo - the inhabited world</li>\n<li>Herodotus - understanding how the society function, how the state functions</li>\n<li>Ptolomy - mapping</li>\n<li>Idrisi - first global representation</li>\n</ul>\n<p>China is one of the Non-western contributions.</p>\n<p><img src=\"\" alt=\"./img/intro-1.png\"></p>\n<h2>Core Geographic Concepts</h2>\n<ul>\n<li>\n<p>Space and Place</p>\n<ul>\n<li>absolute and relative place</li>\n<li>Absolute - actual location of where something is</li>\n<li>Relative space - represents where we are with respects to other places</li>\n<li>sense of place and \"placelessness\"</li>\n<li>Some places have strong sense of place, e.g. paris with eifel tower. People know of those places despite not being there physically</li>\n<li>Placelessness idea when a place is not unique. e.g. stores in malls are the same. <strong>Lack of identity</strong>, Панельки</li>\n</ul>\n</li>\n<li>\n<p>Spatial behaviour, relationships, and process</p>\n<ul>\n<li>how we use space, how people interact with public spaces, where they located and how they're used</li>\n<li>also how economy interacts with one another, why do we live how we live</li>\n</ul>\n</li>\n<li>Fundamental characteristics of places</li>\n</ul>\n<h3>Location</h3>\n<ul>\n<li>Absolute location</li>\n<li>Relative Location</li>\n<li>Site vs. Situation</li>\n</ul>\n<h3>Site and situation</h3>","frontmatter":{"date":"January 13, 2020","title":"Intro: Society And Environment","description":"","published":false},"fields":{"slug":"/options/geog254/intro","category":"options"}}}]}}}