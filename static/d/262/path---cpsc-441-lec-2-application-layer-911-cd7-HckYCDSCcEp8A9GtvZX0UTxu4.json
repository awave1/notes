{"data":{"markdownRemark":{"html":"<h2>Principles of network applications</h2>\n<p>At the core of network application development is writing programs that run on different hosts and communicate with each other over the network. One example is communication between browser and server. There is no need to write software for network-core devices. Network core devices do not run user applications. Applications on end systems allow for rapid app development propagation.</p>\n<p>Because of the layer design, when developing application, we need only to know is how to talk to transport layer. There is no need to learn other layers. When you want to develop a network application, you don't have to worry <em>how</em> transport layer is implemented.</p>\n<h2>Network application architectures</h2>\n<p>Possible structure of applications:</p>\n<ul>\n<li><strong>Client-server</strong></li>\n<li><strong>Peer-to-peer (P2P)</strong></li>\n</ul>\n<p><strong>Client-server architecture</strong></p>\n<p>In a <strong>client-server</strong> architecture, there is an always-on host, <em>server</em>, which serves requests from many other hosts called <em>clients</em>.</p>\n<p><strong>Client</strong>:</p>\n<ul>\n<li>Communicate with server</li>\n<li>May be intermittently connected</li>\n<li>May have dynamic IP addresses</li>\n<li>Do not communicate directly with each other</li>\n</ul>\n<p><strong>Server</strong>:</p>\n<ul>\n<li>Always-on host</li>\n<li>permanent IP address</li>\n<li>data centers for scaling</li>\n</ul>\n<p><strong>P2P architecture</strong></p>\n<p>There's no always-on server. In P2P, regular end-systems contain both server and client sides. Peers request service from other peers, provide service in return to other peers. One good aspect of P2P, is <strong>self-scalability</strong> - new peers bring new service capacity as well as service demands. Peers are intermittently connected and change IP addresses. In terms of management, P2P is complex.</p>\n<h3>Processes communicating</h3>\n<p><strong>Process</strong> is a program running within a host. Within same host, two processes communicate using <strong>inter-process communication</strong> (defined by OS). Process that starts communicating called <strong>client process</strong>. The process that's waiting for communication, called <strong>server process</strong>. Processes on two different end systems communicate with each other by sending <strong>messages</strong> across the network.</p>\n<p><strong>Sockets: interface between the process and the network</strong></p>\n<p>The API of the transport layer is called <strong>Socket</strong>. A process sends messages into, and receives messages from, the network through a software interface called <strong>socket</strong>. Socket is analogous to door:</p>\n<ul>\n<li>sending processes <em>shoves message out of the door</em></li>\n<li>sending process relies on transport infrastructure on the <em>other side of door</em> to deliver message to socket at receiving process</li>\n</ul>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/56672454841e323c97aa216cc5ddeba7/a17d0/lec2-sockets.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 34.1046277665996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABm0lEQVQoz2WR227TUBBF/QH8KUIIwTPvfEmfKoRECCFEpbmqSdoU23Edx8eXNFCFknvrSxxnMU4fkGCkkY7m7LO1Zx3tcDhQ1H6fE/q/CdwZyv3Fdpse50+3fysIZugDhXHtEYZz/i0tz/PjYRKGNPo6p+ddam2ToR5CviO5nRLbNvvVivRhi+NNRNPnbHBD65tJfD8ndcfElkXiumhFwqJbrQ5964KGdUqn/5VhVxW5SeOY7PFRNsiIFktG5oCLUQkjqNFsDHlYrNj5PknRYqwV6dI0plKpEngWU7/O8HsPw/z53zpkGYGv8J02PyYD6l8uuZtMxSBmv14/rbxcRQyuFdVqBWesGI09dN2VWcC7+xlvhhYven3eej5XyyW3QcCN7eIFE87LXcxmh2n1jEwp8iRBa3d6vP9QlpWb2MLKcWx0w8YQ8K+UMPn0mWcfS2jVGq8Nkzt5aDsjfEnaE9amOeLkpEwsZseEcRyx2ayJooiVgC96LfF3qfyysC3N5zxXHi9dRSiaVHguJGmhS0STCYZ6syEem6PhHyoy+vnlCJ9wAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Socket connection\"\n        title=\"\"\n        src=\"/static/56672454841e323c97aa216cc5ddeba7/623ee/lec2-sockets.png\"\n        srcset=\"/static/56672454841e323c97aa216cc5ddeba7/816c5/lec2-sockets.png 148w,\n/static/56672454841e323c97aa216cc5ddeba7/c766b/lec2-sockets.png 295w,\n/static/56672454841e323c97aa216cc5ddeba7/623ee/lec2-sockets.png 590w,\n/static/56672454841e323c97aa216cc5ddeba7/e5345/lec2-sockets.png 885w,\n/static/56672454841e323c97aa216cc5ddeba7/7a439/lec2-sockets.png 1180w,\n/static/56672454841e323c97aa216cc5ddeba7/84fe0/lec2-sockets.png 1770w,\n/static/56672454841e323c97aa216cc5ddeba7/a17d0/lec2-sockets.png 1988w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>The socket API was initially developed as a part of Unix system. The socket API on Windows was implemented later. Due to differences between two OS, Windows implements different API, called WinSocket.</p>\n<p><strong>Addressing Processes</strong></p>\n<p>We need addressing mechanism to uniquely identify hosts and servers. To receive messages, processes must have some <strong>identifier</strong>. Host device has unique 32-bit IP address.</p>\n<p>Process IDs are called <strong>port numbers</strong>. The combination of IP and port will uniquely identify host in the network. By default, HTTP servers use port 80.</p>\n<h2>Transport servers for applications</h2>\n<p>Many networks, including the Internet, provide more than one transport-layer protocol. Developer must choose one of the available protocols.</p>\n<p><strong>What transport service does an app need?</strong></p>\n<ul>\n<li>\n<p><strong>Data integrity</strong>:</p>\n<ul>\n<li>if protocol provides guaranteed data delivery service, it is said to provide data integrity or <em>reliable data transfer</em>.</li>\n<li>some apps can tolerate some amount of loss (e.g. audio)</li>\n</ul>\n</li>\n<li>\n<p><strong>Timing</strong>:</p>\n<ul>\n<li>some applications require low delay in order to be effective</li>\n</ul>\n</li>\n<li>\n<p><strong>Throughput</strong>:</p>\n<ul>\n<li>some applications guaranteed to request <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>R</mi><mi>b</mi><mi>p</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">R bps</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">s</span></span></span></span> of throughput, so protocol would then ensure that the available throughput is always at least <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>R</mi><mi>b</mi><mi>p</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">R bps</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">s</span></span></span></span></li>\n<li>useful for VoIP</li>\n<li><em>elastic applications</em> make use of whatever throughput they get</li>\n<li>useful for email, web transfers</li>\n</ul>\n</li>\n<li>\n<p><strong>Security</strong>:</p>\n<ul>\n<li>service that provides various security services (e.g. encryption, data integrity)</li>\n</ul>\n</li>\n</ul>\n<p><strong>Common applications</strong>:</p>\n<table>\n<thead>\n<tr>\n<th>application</th>\n<th>data loss</th>\n<th>throughput</th>\n<th>time sensitive</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>file transfer</td>\n<td>no loss</td>\n<td>elastic</td>\n<td>no</td>\n</tr>\n<tr>\n<td>email</td>\n<td>no loss</td>\n<td>elastic</td>\n<td>no</td>\n</tr>\n<tr>\n<td>web documents</td>\n<td>no loss</td>\n<td>elastic</td>\n<td>no</td>\n</tr>\n<tr>\n<td>realtime audio/video</td>\n<td>loss tolerant</td>\n<td>audio: 5kbps-1Mbps; <br/> video 10kbps-5Mbps</td>\n<td>yes, 100's msec</td>\n</tr>\n<tr>\n<td>stored audio/video</td>\n<td>loss tolerant</td>\n<td>same as above</td>\n<td>yes, few sec</td>\n</tr>\n<tr>\n<td>games</td>\n<td>loss tolerant</td>\n<td>few kbps up</td>\n<td>yes 100's msec</td>\n</tr>\n<tr>\n<td>text messaging</td>\n<td>no loss</td>\n<td>elastic</td>\n<td>yes and no</td>\n</tr>\n</tbody>\n</table>\n<h3>Internet transport protocol layers</h3>\n<p>The Internet makes two transport protocols available to applications: <strong>UDP (User Datagram Protocol)</strong> and <strong>TCP (Transmission Control Protocol)</strong>.</p>\n<p><strong>TCP Services</strong></p>\n<p>The TCP service model includes a connection-oriented service and a reliable data transfer service. Therefore, application that invokes TCP receives both of these services from TCP.</p>\n<ul>\n<li><em>Connection-oriented service</em>. TCP has the client and server exchange transport layer control information with each other <em>before</em> the application-level messages begin to flow. After the handshaking phase, a <strong>TCP connection</strong> is established between the sockets of two processes.</li>\n<li><em>Reliable data service</em>. The communicating processes can rely on TCP to deliver all data sent without errors and in the proper order.</li>\n</ul>\n<p>TCP also includes a congestion-control mechanism. The TCP congestion-control mechanism throttles a sending process when the network is congested between sender and receiver.</p>\n<p><strong>UDP Services</strong></p>\n<p>UDP is a lightweight transport protocol, providing minimal services. UDP is connectionless, therefore there's <em>no handshaking process</em> before two processes start to communicate. UDP <em>provides unreliable data transfer service</em> - when a process sends a message into a UDP socket, UDP provides no guarantee that the message will ever reach the receiving process. Messages also do not arrive in the order they were sent in. UDP service <em>does not include a congestion-control mechanism</em>, so the sending side of UDP can keep sending data at any rate.</p>\n<h2>The Web and HTTP</h2>\n<p>Web page consists of base HTML file which includes several referenced objects. Objects can be pretty much anything. Each object is addressable by a URL.</p>\n<h3>HTTP Overview</h3>\n<p>HTTP stands for Hypertext transfer protocol. HTTP is web's application layer protocol. HTTP follows client-server model:</p>\n<ul>\n<li><strong>Client</strong>: applications that request, receive (using HTTP protocol) and display web objects</li>\n<li><strong>Server</strong>: Web server sends (using HTTP protocol) objects in response to requests.</li>\n</ul>\n<p>HTTP uses TCP as its transport protocol. The client first initiates a TCP connection with the server (using port 80). Once the connection is established, the browser and the server processes access TCP through their socket interfaces.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a1deff8199936e109da540bad6d9d3ae/0d166/lec2-http.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 358px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 82.12290502793296%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAACOUlEQVQ4y41U227TQBDNBwMPIPEJvIB44A2JBy7hUihJpKpFSloEtIUqDVGakDhumpqmuSihtpvYzsW73sOsEwc7cSVGWs1qPHP2zPHsJhAyIYS/pHW7XZyUSqhVq1BqNVTKZSiKgjqt6XS6zF+1xE2Ajm3DsixYIwvlWh3K6Rlmsxkm4wkYY/8HGAYOzHbGyB4cI5P9As/zYnNiAeX3eZLw90GxaRhIpj9hczsL4fFlcgDod7UKGD5tuSc/os403caLjRSSqS3Yroe244F7IpIblioRFxwzgfwVw+HARcMiYNKyb45QpNiJyaEO+RqBJeAqw+FMYP8Pw+6AoUjFv0wGzxcCKBDgd1pHBnnKWQWTfgko9WlZkgHDD53hgAorBMg8EQgMh5iXKZantUcHfuvPwDlfducDhtkZtM1fcXzuueg4Xuw4TblAkRgqQ4af18BAYL3lyWSCV8k3+PAxA7VnwPTHTESApHmLvfw5OslYqlTx4MlT5POFaMu24+Duvft4+OgxLrRz/yOnsRFineFcnjn73O4ebt+6g3fvN6MMpQ7prR08f70BRW1EQOKmIJjRpvYbz16+RYZqHSIVGZv9o2Okd3IolCpwXXcNBIs/HdbLMK+RooHPfT2EdtH6x7Df76NHj0H78hLnzSZ0Xb/xegUxqbumaei02+h2On5dq9VCYkBgp6qKs0bDD8pXRa2rEdC4myS9bLNJNfJFkqTk45GQesjXI/CyXampx3ksYNxV9fMXuv4FWIjJa1jEvD4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"HTTP Connection\"\n        title=\"\"\n        src=\"/static/a1deff8199936e109da540bad6d9d3ae/0d166/lec2-http.png\"\n        srcset=\"/static/a1deff8199936e109da540bad6d9d3ae/64ce7/lec2-http.png 148w,\n/static/a1deff8199936e109da540bad6d9d3ae/4792b/lec2-http.png 295w,\n/static/a1deff8199936e109da540bad6d9d3ae/0d166/lec2-http.png 358w\"\n        sizes=\"(max-width: 358px) 100vw, 358px\"\n      />\n  </span>\n  </a></p>\n<p><strong>HTTP is stateless</strong>: server maintains <em>no information</em> about past client requests.</p>\n<h3>Non-Persistent and Persistent HTTP Connections</h3>\n<p>When client-server interaction is taking place over TCP, it should be decided whether each request/response pair has to be sent over <em>separate</em> TCP connections, or all of the requests and their responses have to be sent over the <em>same</em> TCP connection. In the former approach, the application is said to use <strong>non-persistent connections</strong> and in the latter approach, <strong>persistent connections</strong>.</p>\n<p><strong>Non-persistent HTTP</strong></p>\n<p>When non-persistent HTTP is used, the data is sent over separate TCP connections.</p>\n<p>Suppose a user wants to browse a page that consists of a HTML and 10 images. All 11 objects reside on the same server.</p>\n<ol>\n<li>The HTTP client process initiates a TCP connection to the server on port 80. Associated with the TCP connection, there will be a socket at the client and a socket at the server</li>\n<li>The client sends an HTTP request to the server via socket. The request includes the path name to <code class=\"language-text\">index.html</code></li>\n<li>The server process receives the request message via its socket, retrieves the <code class=\"language-text\">index.html</code> object, encapsulates the object in an HTTP response message and sends the object back via its socket</li>\n<li>\n<p>The server process tells TCP to close the TCP connection</p>\n<ul>\n<li><strong>Note</strong>: TCP connection doesn't terminate until client has received the response message intact</li>\n</ul>\n</li>\n<li>The client receives the message. TCP connection terminates. The message indicates that the encapsulated object is an HTML file. The client extracts the file from the response message, parses <code class=\"language-text\">index.html</code>, and finds references to the 10 images</li>\n<li>First four steps are repeated for each referenced image/object</li>\n</ol>\n<p>The connection <strong>does not persist</strong> for all objects - for every object there has to be a TCP connection open.</p>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>R</mi><mi>T</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">RTT</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span></span></span> - time that it takes for package to travel from client to server and back.</p>\n<p>Non persistent HTTP response time is <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>2</mn><mi>R</mi><mi>T</mi><mi>T</mi><mo>+</mo><mtext>File transmission time</mtext></mrow><annotation encoding=\"application/x-tex\">2RTT + \\text{File transmission time}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord text\"><span class=\"mord\">File transmission time</span></span></span></span></span>. If object is small, then time is negligible, however if object is large then response time would be big. For example, time to get the page with 10 images would take:</p>\n<p>HTTP response time:</p>\n<ul>\n<li>One RTT to initiate TCP connection</li>\n<li>One RTT for HTTP request and first few bytes of HTTP response to return</li>\n<li>File transmission time</li>\n</ul>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mtext>base html</mtext><mo>=</mo><mn>2</mn><mi>R</mi><mi>T</mi><mi>T</mi><mspace linebreak=\"newline\"></mspace><mtext>each object will</mtext><mo>=</mo><mn>2</mn><mi>R</mi><mi>T</mi><mi>T</mi><mspace linebreak=\"newline\"></mspace><mtext>total time to get page</mtext><mo>=</mo><mn>2</mn><mi>R</mi><mi>T</mi><mi>T</mi><mo>+</mo><mn>10</mn><mo>∗</mo><mn>2</mn><mi>R</mi><mi>T</mi><mi>T</mi><mspace linebreak=\"newline\"></mspace><mtext>total time to get N objects</mtext><mo>=</mo><mn>2</mn><mi>R</mi><mi>T</mi><mi>T</mi><mo>+</mo><mi>N</mi><mo>∗</mo><mn>2</mn><mi>R</mi><mi>T</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">\\text{base html} = 2RTT \\\\\n\\text{each object will} = 2RTT \\\\\n\\text{total time to get page} = 2RTT + 10*2RTT \\\\\n\\text{total time to get N objects} = 2RTT + N*2RTT</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord text\"><span class=\"mord\">base html</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord text\"><span class=\"mord\">each object will</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord text\"><span class=\"mord\">total time to get page</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord text\"><span class=\"mord\">total time to get N objects</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">N</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span>\n<p><strong>Non persistent connection with pipelining</strong></p>\n<p>As a result, a client will need to open multiple parallel TCP connections and then send one request for each connection. For previous example, it will take <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>4</mn><mi>R</mi><mi>T</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">4RTT</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">4</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span></span></span>.</p>\n<p><strong>Persistent HTML</strong></p>\n<p>With persistent connections, the server leaves TCP connection open after sending a response. Subsequent requests and responses between same client and server can be sent over the same connection. In particular, an entire page can be sent over a single persistent TCP connection. Typically, the HTTP server closes a connection when it isn't used for some time.</p>\n<p>For previous example then, the total time will be <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn><mi>R</mi><mi>T</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">3RTT</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span></span></span>.</p>\n<h3>HTTP messages</h3>\n<p>There are two types of HTTP messages: <strong>request</strong> and <strong>response</strong>. Both request and response messages have same format, both have a request line, and HEAD lines.</p>\n<p><strong>Request</strong></p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5727cf3966f0e0e0a55fdec6fcccf480/07bf9/lec2-request-format.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 62.17821782178218%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB50lEQVQoz41Sa3OiQBD0//+su3y4u5hYUdQQFBWjHMj7sQvsQt8MFJQmX26rutiZXXqne2YmpUQUJfC8BGGYwPd9igPcbgn+eimKIofrXikXUy5DEGR0L6T9jc49VEUBdQvQeD46pTCL4wjL5RE/fu7xtnQwf3nDdvuB9fqMxcImMg9PT79gWTae5wf8/mNht7PxYZowLQuZ40C8LtAQaac1ZkmSYL05E9knVsYnlqtLjw3lDocdrJ1LsUv7ExzHpscMZGkKXkygogj3qyesqgpt2xI0NF0av02j0HUaHcWK5GjdkgUlsiybCOrLBWJloDqeBkL2Q2uF/111XSOO46FCjp0zhLGGTodHZimV7/khgjDtG8EIghEBNSCFT7mIpDGR67rI83wi1Fk+PdZ13SDZoAY8z0/k1eDhyrhis71gv9/Dtj3y94rj0aG9Td5uUJblnYdxTzSi77LjnGCa71SdD9XUkFKAx6ksBSr61rWEEENO9nGNRqmBhLwfyaamsDSWw/ILmiuGEOWEsiymPCMn8D8jyYNkPuAOf11XV2Jv57APBflYfzvnwdZE0JKf8t1ES5VPFfKrLIPHZ0RRSKpEUAMEVSgfznk/FcLjVtW99J6waZq+a/eSGCzzHg+S6f7YmK+S/wFiEJUFgaRteQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Request message format\"\n        title=\"\"\n        src=\"/static/5727cf3966f0e0e0a55fdec6fcccf480/623ee/lec2-request-format.png\"\n        srcset=\"/static/5727cf3966f0e0e0a55fdec6fcccf480/816c5/lec2-request-format.png 148w,\n/static/5727cf3966f0e0e0a55fdec6fcccf480/c766b/lec2-request-format.png 295w,\n/static/5727cf3966f0e0e0a55fdec6fcccf480/623ee/lec2-request-format.png 590w,\n/static/5727cf3966f0e0e0a55fdec6fcccf480/e5345/lec2-request-format.png 885w,\n/static/5727cf3966f0e0e0a55fdec6fcccf480/07bf9/lec2-request-format.png 1010w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>Request messages are written in <strong>ASCII</strong> text. Messages also consist of several lines. The first line of an HTTP request message is called <strong>request line</strong>; the subsequent lines are called the <strong>header lines</strong>. Request line contains the method type. There can be several different values:</p>\n<ul>\n<li>\n<p><code class=\"language-text\">GET</code></p>\n<ul>\n<li>The majority of HTTP request messages use <code class=\"language-text\">GET</code> method. The <code class=\"language-text\">GET</code> method is used when the browser requests an object</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">POST</code></p>\n<ul>\n<li>An HTTP client uses <code class=\"language-text\">POST</code> requests to send forms. With a <code class=\"language-text\">POST</code> message, the user is still requesting a web page from the server, but the specific contents of the web page depend on what user entered into the form fields</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">HEAD</code></p>\n<ul>\n<li>Similar to <code class=\"language-text\">GET</code>; when a server receives <code class=\"language-text\">HEAD</code>, it responds with an HTTP message, but leaves out the requested object</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">PUT</code></p>\n<ul>\n<li>Allows user to upload an object to a specific path (directory) of a web server</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">DELETE</code></p>\n<ul>\n<li>Allows user to delete an object from the server</li>\n</ul>\n</li>\n</ul>\n<p>Header lines can contain various parameters. The information provided by the host header line is required for Web proxy caches. By including <code class=\"language-text\">Connection: close</code>, the browser is telling the server <strong>to close connection after sending the requested object</strong>. The <code class=\"language-text\">User-agent:</code> specifies client's browser type. Every header line is separated using <code class=\"language-text\">\\r\\n</code>.</p>\n<p><strong>Response</strong></p>\n<p>Response message contains three sections: initial <strong>status line</strong>, <strong>header lines</strong>, and the <strong>entity body</strong>. The entity body contains the requested object itself. The body is separated from the response header using <code class=\"language-text\">\\r\\n\\r\\n</code>. The status line contains the protocol version a status code and a corresponding status message.</p>\n<p><strong>Cookies</strong></p>\n<p>HTTP server is stateless, it allows simples server design and permits to develop high performance servers that can handle many simultaneous TCP connections. However, websites sometimes need to identify users, either because server wishes to restrict some access or because it wants to serve content to that specific user. For these purposes, HTTP uses cookies.</p>\n<p>Cookies allow sites to keep track of users. Cookie technology has four components:</p>\n<ol>\n<li>A cookie header line in the HTTP response message</li>\n<li>A cookie header line in the HTTP request message</li>\n<li>A cookie file kept on the <strong>user's</strong> end system and managed by the user's browser</li>\n<li>A backend database of the website</li>\n</ol>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/88509b31fc1a079fae83e5c87ce40aa6/18028/lec2-cookies.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 92.65625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAACqklEQVQ4y31U247aMBDl/3+lVf+gavtSVStt1e0uLSywgUAgkNi5x/ElOR0bwiWLOtIQY4/HZ2bOzKjrOnQA2rZFsNkgDEPYPSvu7LRWSiGKIjDGnG1/PpSR2zwdfPj4CV++fnNrQ5d6h/3Fn89/MJl7bt1e7d84tD+5UND0ffk7xePT8zuj/t73xyeMp/Ojw9ODQ6TksMOjH2McMIKlEdYKfqmwZCl4USFvJDSFa+1gzDncy2PdjY6sAecJkiShjRaq7WCvl6ZDUEq8xSkWUYIFLxA1Gh3Za62dDp0fczjYMI1AnaVgSYr1dofF7oCA8uHVBl6lUVUVlssllp6HOIqdU0PIbdGklMcczliFFa8If4vxPsHDKsTDZIFVUiBTxhXoGN8xb9aBOYXfNA28Nw/r9RpZmmIkhcDvhY/pKoBdh7LFlhC9HjjGmxCv6wARoc3yHIrQ35OyLCFPZyMLNeXMqdbGoehFE4JDKTBLa8wKhXkhUdOje+JqHMfI6RGb+4TF+Dw7YB6Xx5CvpZIKrBLY8YwMqCCkm6zEXnZIVOsqzhmHIrs+bFuoSUh5J4YQQqqYbJwKysc2rxEUwl02lm/Xr7Xmbsja2MjMKWRystge4IeRS2pMjhjxbxVswTiHKAtCI8mXOZP5unta07rwhRAXYr/sUswPmSO20C1CoTFnGWZRiumeI6CQLclrdYvQctFW2VwRfmR55ROv1r7vDl1HHDkCRYYR5dPjOX5lCq+lRl1TSoLAoUqpINfkdp0ynCqZaKjtCB0rCGUOPy1dh2jqoL5LLE3sd9h+52nT/7HJ3VWSyEwF6S5Ye5FU2SGi4YC4oY1NbEMpOI8Y0vakPYH75A+dnR02NE04dcLl4P0EuUZwb2TdDIeslvixJNZn2d3XhyPqf86s/APEDMbnpR+kQQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Keeping user state with cookies\"\n        title=\"\"\n        src=\"/static/88509b31fc1a079fae83e5c87ce40aa6/623ee/lec2-cookies.png\"\n        srcset=\"/static/88509b31fc1a079fae83e5c87ce40aa6/816c5/lec2-cookies.png 148w,\n/static/88509b31fc1a079fae83e5c87ce40aa6/c766b/lec2-cookies.png 295w,\n/static/88509b31fc1a079fae83e5c87ce40aa6/623ee/lec2-cookies.png 590w,\n/static/88509b31fc1a079fae83e5c87ce40aa6/e5345/lec2-cookies.png 885w,\n/static/88509b31fc1a079fae83e5c87ce40aa6/7a439/lec2-cookies.png 1180w,\n/static/88509b31fc1a079fae83e5c87ce40aa6/18028/lec2-cookies.png 1280w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<h3>Web caches (proxy server)</h3>\n<p>A <strong>web cache</strong> - also called <strong>proxy server</strong> - is a network entity that processes HTTP requests on behalf of origin server. The web cache has its own disk storage and keeps copies of recently requested objects in the storage.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/169e8cae83e262f0b3aec75a397a89f2/f5e5c/lec2-webcache.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 70.48710601719198%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACdElEQVQ4y3VU/W/SUBTt/2qMi/+NiYn+4JLFLNuiyRZFwYxNQN0WnJNtDDYUaDc+SkvpF/2gvL4eb1vYYMGXvr729t7z7j33vAqaNsLXQhGidIt0RMmdRxHoohlhcUSJfdlmmBZqf9vwfB/C+cUlnq09x8fM5+TjwOPQA74E7jgOPM8D5/weZMojyOR760Woi11s7mXRH6gQ1KGGja33KJa+QbImONJC/NIZWuMQQZgCNptNVH5XMPE9BGSKgUpDhrwyRcsDypUqXqxvoq8QoE9p5ktHKB6X0VM1nOgcOXWKT2oaYFK2QQxEfj7jqFshyrRhkeY5TW0K3HW62M0dwLBsCDEfcr+PXrebZMOolFsnxMmIUbYMpwbHyBqj05MhO1N8pwpKZK+aYUJPXIOqKqhdXcHQ9RQw5iYMwyWy7WmElh2CEsJNU8T2hxwaAx11B9AnfOab+usEJIliwvU94KruaRRIlePHaQUvN3ZgmSb4rIoHJSzHCFgWRdI9xecoEun7xOEfN86wja3dDMSRjTMzQs1kCberhhDLQZQkGIYBNy6Pajwm/vI0K0YIyXkItFmEA9okT5tlqXGn5BMLwXVd9NUhGGMQKucXePJ0DbnsF2gBUCTHAgVUCbhHpM/LmnMWa/TMYCgR2CH5XlocYlfGdmYfsjKE0OvLeP1mAweHBXgsxA01QvX5ytNxzxetHZfjioAl0uHPizpevX2X6tB1PWTyhUSLQ01bOiGPG/X43WPpxg3ieH1nD5puQIg7LFLL2+12Kp1HgdHsTM+f5ytfkI2iKGg0GrDtmbCDIMBkMvnv4V/5c1jwG8gybq6vMR6P8Q+IcCMww9aqYwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Web cache\"\n        title=\"\"\n        src=\"/static/169e8cae83e262f0b3aec75a397a89f2/623ee/lec2-webcache.png\"\n        srcset=\"/static/169e8cae83e262f0b3aec75a397a89f2/816c5/lec2-webcache.png 148w,\n/static/169e8cae83e262f0b3aec75a397a89f2/c766b/lec2-webcache.png 295w,\n/static/169e8cae83e262f0b3aec75a397a89f2/623ee/lec2-webcache.png 590w,\n/static/169e8cae83e262f0b3aec75a397a89f2/f5e5c/lec2-webcache.png 698w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>As an example, suppose a browser is requesting the object <code class=\"language-text\">http://www.example.com/file.gif</code>:</p>\n<ol>\n<li>The browser establishes a TCP connection to the web cache and sends HTTP request for the object to the web cache.</li>\n<li>The web cache checks to see if it has a copy of the object stored locally. If it does, web cache returns the object within an HTTP response message to the client browser.</li>\n<li>If the web cache doesn't have the object, the web cache opens a TCP connection to the origin server. The web cache then sends an HTTP request for the object into the cache-to-server TCP connection. After receiving this request, the origin server sends the object within an HTTP response to the web cache.</li>\n<li>When the web cache receives the object, it stores a copy in its local storage and sends a copy within an HTTP response message to the client browser over the existing TCP connection between web cache and client.</li>\n</ol>\n<p>Web cache acts as a client <em>and</em> a server at the same time. When it receives requests from and sends responses to a browser, it is a <em>server</em>. When it sends requests to and receives responses from an origin server, it is a <em>client</em>.</p>\n<p><strong>Conditional GET</strong></p>\n<p>The goal is not to send an object if cache has up-to-date cached version. This results in lower link utilization. Using <code class=\"language-text\">If-modified-since: &lt;date&gt;</code> header, we can check if an object has been modified after given <code class=\"language-text\">&lt;date&gt;</code>. Response won't contain any data, if cached copy is up to date: <code class=\"language-text\">HTTP/1.1 304 Not Modified</code>.</p>\n<h2>Email Protocol</h2>\n<p>Email infrastructure has three components. <strong>User agents</strong>, <strong>mail servers</strong>, <strong>SMTP: simple mail transfer protocol</strong>. SMTP uses (secure) TCP to transfer email messages, it operates on port 25.</p>\n<p>Mail servers consist of:</p>\n<ul>\n<li><strong>Mailbox</strong> contains incoming messages for user</li>\n<li><strong>Message queue</strong> of outgoing (to be sent) messages</li>\n<li>\n<p><strong>SMTP protocol</strong> between mail servers to send email messages</p>\n<ul>\n<li>client: sending mail server</li>\n<li>server: receiving mail server</li>\n</ul>\n</li>\n</ul>\n<p><strong>SMTP</strong></p>\n<p>SMTP uses TCP to reliably transfer email from client to server and it operates on port 25. SMTP requires commands/body to be sent in ASCII. As a response, SMTP sends status code and a phrase.</p>\n<h3>Mail access protocols</h3>\n<ul>\n<li><strong>SMTP</strong>: delivery/storage to receiver's server</li>\n<li>\n<p>mail access protocol: retrieval from server:</p>\n<ul>\n<li><strong>POP</strong>: Post Office Protocol</li>\n<li><strong>IMAP</strong>: Internet Mail Access Protocol</li>\n<li><strong>HTTP</strong>: used in webmail, like gmail</li>\n</ul>\n</li>\n</ul>\n<h2>DNS</h2>\n<p>DNS is one of the core functionalities, but it is provided on the application level. Hosts has to implement it. The primary functionality of DNS is to map human readable URLs to IP addresses, that are understandable by the network layer protocol. <strong>Domain Name System (DNS)</strong> is a distributed database. It is implemented in hierarchy of many <em>name servers</em>. The DNS protocol runs over <strong>UDP</strong> and uses port 53.</p>\n<ul>\n<li>Distributed database: implemented in hierarchy of many <strong>name-servers</strong></li>\n<li>Application layer protocol: hosts, name servers communicate to <strong>resolve</strong> names</li>\n</ul>\n<p><strong>Structure, services</strong></p>\n<ul>\n<li>DNS provides host aliasing.</li>\n<li>\n<p>DNS can be used for load distribution</p>\n<ul>\n<li>replicates web servers: many IP addresses correspond to one name</li>\n</ul>\n</li>\n</ul>\n<p><strong>Overview of how DNS works</strong></p>\n<p>DNS servers are distributed. DNS isn't centralized due to several reasons:</p>\n<ul>\n<li>single point of failure: if one DNS server crashes, so does the Internet</li>\n<li>traffic volume: a single DNS server would have to handle all DNS queries</li>\n<li>distant centralized database: a single DNS cannot be close to all querying clients.</li>\n<li>maintenance</li>\n</ul>\n<p><strong>Example</strong> of DNS hierarchical database:</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/37a98d18a08b2dd7e8c95437b5202208/e7229/lec2-dns.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 38.37579617834395%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABh0lEQVQoz1VS207CQBDt//+HRk1MjA9GxRs+GKxAhBjijVIqNEXa0qXddrfdcpxdqcEmkzkzc2Z2zm6tzWaDxpqvQe6Soev4eHYD9N0FApb/qxu806u99TeCgrquUStlTBedRQz73UPvwyP/BT9ODU81HOLDDNsZaE7YpgohIcsKgrwQAqqqTLPGmleWJSRhIbc88k1vs6WlCNhOgNbgE9dDspcJQi5NceTHOO+/m3xr6MANU5OfrzjFY5O/fP7AwFv+l7xc5/gKE7iLCHOSJSplCDEXmEUMM6r5qwys+D0olxXm0RpT4uu+OCv+7tTSQZiskeYFSRaI1hlCliEVpZHCpUKS5RDqVxIva8OJUw5eCDCu+1MkuYSqacP9mycctnt4/JzDizPs39g4avdxP5ogEQonnRcc3nVxMRhD0hvYYx97Vx0cPwzx9p3irPuKg9snnNojMFHBcoIYThBhwThtVaGJA4pFVWNCL63NCxn0fQdJhjHVJ98rRKTOI8n6b5guE0ji/wA8/13eSMUCbwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"DNS Hierarchy\"\n        title=\"\"\n        src=\"/static/37a98d18a08b2dd7e8c95437b5202208/623ee/lec2-dns.png\"\n        srcset=\"/static/37a98d18a08b2dd7e8c95437b5202208/816c5/lec2-dns.png 148w,\n/static/37a98d18a08b2dd7e8c95437b5202208/c766b/lec2-dns.png 295w,\n/static/37a98d18a08b2dd7e8c95437b5202208/623ee/lec2-dns.png 590w,\n/static/37a98d18a08b2dd7e8c95437b5202208/e7229/lec2-dns.png 628w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p><strong>Root name servers</strong></p>\n<p>Contacted by local name server that cannot resolve name. Root name server:</p>\n<ul>\n<li>either knows the name mapping</li>\n<li>or knows the name of the server that knows the mapping</li>\n</ul>\n<p><strong>TLD, authoritative DNS servers</strong></p>\n<ul>\n<li><strong>Top-level domain (TLD)</strong> servers are responsible for com, org, net, edu, .. etc and all top level country domains, e.g.: uk, ca, ru. Network Solutions maintains servers for .com TLD.</li>\n<li><strong>Authoritative DNS servers</strong> contain organization's own DNS serve(s), providing authoritative hostname to IP mappings for organization's named hosts.</li>\n</ul>\n<p><strong>Local DNS name server</strong></p>\n<p>Each ISP has one local DNS, also called \"default name server\". When host makes DNS query, query is sent to its local DNS server. It contains local cache of recent name-to-address translation pairs. Also acts as proxy, forwards query into hierarchy.</p>\n<p><strong>DNS records</strong></p>\n<p>The format of DNS record is <code class=\"language-text\">(name, value, type, ttl)</code></p>\n<ul>\n<li>\n<p>type = <code class=\"language-text\">A</code></p>\n<ul>\n<li>name is hostname</li>\n<li>value is IP address</li>\n</ul>\n</li>\n<li>\n<p>type = <code class=\"language-text\">NS</code></p>\n<ul>\n<li>name is domain (*.com)</li>\n<li>value is hostname of authoritative name server for this domain</li>\n</ul>\n</li>\n<li>\n<p>type = <code class=\"language-text\">CNAME</code></p>\n<ul>\n<li>name is the alias name for some \"canonical\" (real) name</li>\n<li>value is canonical name</li>\n</ul>\n</li>\n<li>\n<p>type = <code class=\"language-text\">MX</code></p>\n<ul>\n<li>value is name of mailserver associated with name</li>\n</ul>\n</li>\n</ul>\n<h2>P2P Applications</h2>\n<p>P2P architecture is decentralized, there's no always-on server. Arbitrary end systems directly communicate with each other. Peers are intermittently connected and change IP addresses.</p>\n<p><strong>Example: BitTorrent</strong></p>\n<ul>\n<li>file is divided into 256 kb chunks</li>\n<li>peers in torrent send/receive file chunks</li>\n<li><strong>tracker</strong>: tracks peers participating in torrent</li>\n<li><strong>torrent</strong>: group of peers exchanging chunks of a file</li>\n</ul>\n<h2>Video streaming and Content Distribution Networks (CDNs)</h2>\n<p>Major challenge: scale - how to reach massive amount of users? Different users have different capabilities, <strong>heterogeneity</strong>. The solution is to use <em>distributed</em> application-level infrastructure.</p>\n<p><strong>Multimedia: video</strong></p>\n<p>Video is a sequence of images, displayed at a constant rate. Digital image is represented as array of pixels. Using Coding, use redundancy within (<strong>spatial</strong>) and between images (<strong>temporal</strong>) to decrease number of bits used to encode image.</p>\n<ul>\n<li><strong>CBR</strong> constant bit rate: video encoding rate is fixed</li>\n<li><strong>VBR</strong> variable bit rate: video encoding rate changes as amount of spatial, temporal coding changes</li>\n</ul>\n<h3>DASH</h3>\n<p><strong>DASH</strong> stands for <strong>D</strong>ynamic, <strong>A</strong>daptive <strong>S</strong>treaming over <strong>H</strong>TTP.</p>\n<ul>\n<li>Server divides video into multiple chunks and each chunk is stored, each chunk is also encoded at different rates. <em>Manifest file</em> provides URLs for different chunks.</li>\n<li>Client periodically measures server-to-client bandwidth, consults manifest, requests one chunk at a time. Client chooses maximum coding rate sustainable given current bandwidth. Client can also choose different coding rates at different points in time (depending on available bandwidth at time).</li>\n</ul>\n<h3>CDN</h3>\n<p>How to stream content to hundreds of thousands of simultaneous users? The solution is to <strong>store multiple copies of videos at multiple geographically distributed sites</strong> - CDN. So, CDN servers are pushed closer to users.</p>","frontmatter":{"date":"January 21, 2019","title":"Application Layer","tags":["cpsc441"]}}},"pageContext":{"prev":{"fields":{"slug":"/cpsc457/lec2-hardware-cache"},"frontmatter":{"published":true,"tags":["cpsc457"]}},"slug":"/cpsc441/lec2-application-layer","next":{"fields":{"slug":"/cpsc457/lec3-interrupts-traps-kernels-vms"},"frontmatter":{"published":true,"tags":["cpsc457"]}},"category":"cpsc441"}}