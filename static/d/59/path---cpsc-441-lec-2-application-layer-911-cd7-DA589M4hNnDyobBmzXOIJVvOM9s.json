{"data":{"markdownRemark":{"html":"<p>At the core of network application development is writing programs that run on different hosts and communicate with each other over the network. One example is communication between browser and server.</p>\n<p>There is no need to write software for network-core devices. Network core devices do not run user applications. Applications on end systems allow for rapid app development propagation.</p>\n<p>Because of the layer design, when developing application, we need only to know is how to talk to transport layer. There is no need to learn other layers. When you want to develop a network application, you don't have to worry <em>how</em> transport layer is implemented.</p>\n<p>Possible structure of applications:</p>\n<ul>\n<li>Client-server</li>\n<li>Peer-to-peer (P2P)</li>\n</ul>\n<h3>Client-server architecture</h3>\n<p>In a <strong>client-server</strong> architecture, there is an always-on host, <em>server</em>, which serves requests from many other hosts called <em>clients</em>.</p>\n<p><strong>Client</strong>:</p>\n<ul>\n<li>Communicate with server</li>\n<li>May be intermittently connected</li>\n<li>May have dynamic IP addresses</li>\n<li>Do not communicate directly with each other</li>\n</ul>\n<p><strong>Server</strong>:</p>\n<ul>\n<li>Always-on host</li>\n<li>permanent IP address</li>\n<li>data centers for scaling</li>\n</ul>\n<h3>P2P architecture</h3>\n<p>There's no always-on server. In P2P, regular end-systems contain both server and client sides. Peers request service from other peers, provide service in return to other peers. One good aspect of P2P, is <strong>self-scalability</strong> - new peers bring new service capacity as well as service demands. Peers are intermittently connected and change IP addresses. In terms of management, P2P is complex.</p>\n<h2>Processes communicating</h2>\n<p><strong>Process</strong> is a programm running within a host. Within same host, two processes communicate using <strong>inter-process communication</strong> (defined by OS).</p>\n<p>Process that starts communicating called <strong>client process</strong>. The process that's waiting for communication, called <strong>server process</strong>.</p>\n<h3>Sockets</h3>\n<p>The API of the transport layer is called <strong>Socket</strong>. Process sends/receives messages to/from its <strong>socket</strong>. Socket is analogous to door:</p>\n<ul>\n<li>sending processes shoves message out of the door</li>\n<li>sending process relies on transport infrastructure on other side of door to deliver message to socket at receiving process</li>\n</ul>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/56672454841e323c97aa216cc5ddeba7/5fa04/lec2-sockets.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 34.1046277665996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABm0lEQVQoz2WR227TUBBF/QH8KUIIwTPvfEmfKoRECCFEpbmqSdoU23Edx8eXNFCFknvrSxxnMU4fkGCkkY7m7LO1Zx3tcDhQ1H6fE/q/CdwZyv3Fdpse50+3fysIZugDhXHtEYZz/i0tz/PjYRKGNPo6p+ddam2ToR5CviO5nRLbNvvVivRhi+NNRNPnbHBD65tJfD8ndcfElkXiumhFwqJbrQ5964KGdUqn/5VhVxW5SeOY7PFRNsiIFktG5oCLUQkjqNFsDHlYrNj5PknRYqwV6dI0plKpEngWU7/O8HsPw/z53zpkGYGv8J02PyYD6l8uuZtMxSBmv14/rbxcRQyuFdVqBWesGI09dN2VWcC7+xlvhhYven3eej5XyyW3QcCN7eIFE87LXcxmh2n1jEwp8iRBa3d6vP9QlpWb2MLKcWx0w8YQ8K+UMPn0mWcfS2jVGq8Nkzt5aDsjfEnaE9amOeLkpEwsZseEcRyx2ayJooiVgC96LfF3qfyysC3N5zxXHi9dRSiaVHguJGmhS0STCYZ6syEem6PhHyoy+vnlCJ9wAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Socket connection\"\n        title=\"\"\n        src=\"/static/56672454841e323c97aa216cc5ddeba7/fb8a0/lec2-sockets.png\"\n        srcset=\"/static/56672454841e323c97aa216cc5ddeba7/1a291/lec2-sockets.png 148w,\n/static/56672454841e323c97aa216cc5ddeba7/2bc4a/lec2-sockets.png 295w,\n/static/56672454841e323c97aa216cc5ddeba7/fb8a0/lec2-sockets.png 590w,\n/static/56672454841e323c97aa216cc5ddeba7/526de/lec2-sockets.png 885w,\n/static/56672454841e323c97aa216cc5ddeba7/fa2eb/lec2-sockets.png 1180w,\n/static/56672454841e323c97aa216cc5ddeba7/08f6a/lec2-sockets.png 1770w,\n/static/56672454841e323c97aa216cc5ddeba7/5fa04/lec2-sockets.png 1988w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>The socket API was initially developed as a part of Unix system. The socket API on Windows was implemented later. Due to differences between two OS, Windows implements different API, called WinSocket.</p>\n<h3>Addressing Processes</h3>\n<p>We need addressing mechanism to uniquely identify hosts and servers. To receive messages, processes must have some <strong>identifier</strong>. Host device has unique 32-bit IP address.</p>\n<p>Process IDs are called port numbers. The combination of IP and port will uniquely identify host in the network. By default, HTTP servers use port 80.</p>\n<h2>Transport servers for applications</h2>\n<p>Many networks, including the Internet, provide more than one transport-layer protocol. Developer must choose one of the available protocols.</p>\n<h3>What transport service does an app need?</h3>\n<ul>\n<li>\n<p><strong>Data integrity</strong>:</p>\n<ul>\n<li>if protocol provides guaranteed data delivery service, it is said to provide data integrity or <em>reliable data transfer</em>.</li>\n<li>some apps can tolerate some amount of loss (e.g. audio)</li>\n</ul>\n</li>\n<li>\n<p><strong>Timing</strong>:</p>\n<ul>\n<li>some applications require low delay in order to be effective</li>\n</ul>\n</li>\n<li>\n<p><strong>Throughput</strong>:</p>\n<ul>\n<li>some applications guaranteed to request <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>r</mi><mi>b</mi><mi>p</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">r bps</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">s</span></span></span></span> of throughput, so protocol would then ensure that the available throughput is always at least <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>r</mi><mi>b</mi><mi>p</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">r bps</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathdefault\">b</span><span class=\"mord mathdefault\">p</span><span class=\"mord mathdefault\">s</span></span></span></span></li>\n<li>useful for VoIP</li>\n<li><em>elastic applications</em> make use of whatever throughput they get</li>\n<li>useful for email, web transfers</li>\n</ul>\n</li>\n<li>\n<p><strong>Security</strong>:</p>\n<ul>\n<li>service that provides various security services (e.g. encryption, data integrity)</li>\n</ul>\n</li>\n</ul>\n<h3>Internet transport protocol layers</h3>\n<p>The Internet makes two transport protocols available to applications: UDP and TCP.</p>\n<h4>TCP Services</h4>\n<p>The TCP service model includes a connection-oriented service and a reliable data transfer service. Therefore, application that invokes TCP receives both of these services from TCP.</p>\n<ul>\n<li><em>Connection-oriented service</em>. TCP has the client and server exchange transport layer control information with each other <em>before</em> the application-level messages begin to flow. After the handshaking phasem a <strong>TCP connection</strong> is established between the sockets of two processes.</li>\n<li><em>Reliable data service</em>. The communicating processes can rely on TCP to deliver all data sent without errors and in the proper order.</li>\n</ul>\n<p>TCP also includes a congestion-control mechanism. The TCP congestion-control mechanism throttles a sending process when the network is congested between sender and receiver.</p>\n<h4>UDP Services</h4>\n<p>UDP is a lightweight transport protocol, providing minimal services. UDP is connectionless, therefore there's no handshaking process before two processes start to communicate.</p>\n<p>UDP provides unreliable data transfer service - when a process sends a message into a UDP socket, UDP provides no guarantee that the message will ever reach the receiving process. Messages also do not arrive in the order they were sent in.</p>\n<p>UDP service does not include a congestion-control mechanism, so the sending side of UDP can keep sending data at any rate.</p>\n<h2>Web and HTTP</h2>\n<p>Web page consists of base HTML file which includes several referenced objects. Objects can be pretty much anything. Each object is addressable by a URL.</p>\n<h3>HTTP Overview</h3>\n<p>HTTP stands for Hypertext transfer protocol. HTTP is web's application layer protocol. HTTP follows client-server model:</p>\n<ul>\n<li><strong>client</strong>: applications that request, receive (using HTTP protocol) and display web objects</li>\n<li><strong>server</strong>: Web server sends (using HTTP protocol) objects in response to requests.</li>\n</ul>\n<p>HTTP uses TCP as its transport protocol. The client first initiates a TCP connection with the server (using port 80). Once the connection is established, the browser and the server processes access TCP through their socket interfaces.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a1deff8199936e109da540bad6d9d3ae/24fed/lec2-http.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 358px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 82.12290502793296%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAACOUlEQVQ4y41U227TQBDNBwMPIPEJvIB44A2JBy7hUihJpKpFSloEtIUqDVGakDhumpqmuSihtpvYzsW73sOsEwc7cSVGWs1qPHP2zPHsJhAyIYS/pHW7XZyUSqhVq1BqNVTKZSiKgjqt6XS6zF+1xE2Ajm3DsixYIwvlWh3K6Rlmsxkm4wkYY/8HGAYOzHbGyB4cI5P9As/zYnNiAeX3eZLw90GxaRhIpj9hczsL4fFlcgDod7UKGD5tuSc/os403caLjRSSqS3Yroe244F7IpIblioRFxwzgfwVw+HARcMiYNKyb45QpNiJyaEO+RqBJeAqw+FMYP8Pw+6AoUjFv0wGzxcCKBDgd1pHBnnKWQWTfgko9WlZkgHDD53hgAorBMg8EQgMh5iXKZantUcHfuvPwDlfducDhtkZtM1fcXzuueg4Xuw4TblAkRgqQ4af18BAYL3lyWSCV8k3+PAxA7VnwPTHTESApHmLvfw5OslYqlTx4MlT5POFaMu24+Duvft4+OgxLrRz/yOnsRFineFcnjn73O4ebt+6g3fvN6MMpQ7prR08f70BRW1EQOKmIJjRpvYbz16+RYZqHSIVGZv9o2Okd3IolCpwXXcNBIs/HdbLMK+RooHPfT2EdtH6x7Df76NHj0H78hLnzSZ0Xb/xegUxqbumaei02+h2On5dq9VCYkBgp6qKs0bDD8pXRa2rEdC4myS9bLNJNfJFkqTk45GQesjXI/CyXampx3ksYNxV9fMXuv4FWIjJa1jEvD4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"HTTP Connection\"\n        title=\"\"\n        src=\"/static/a1deff8199936e109da540bad6d9d3ae/24fed/lec2-http.png\"\n        srcset=\"/static/a1deff8199936e109da540bad6d9d3ae/11eac/lec2-http.png 148w,\n/static/a1deff8199936e109da540bad6d9d3ae/7555b/lec2-http.png 295w,\n/static/a1deff8199936e109da540bad6d9d3ae/24fed/lec2-http.png 358w\"\n        sizes=\"(max-width: 358px) 100vw, 358px\"\n      />\n  </span>\n  </a></p>\n<p>HTTP is stateless: server maintains no information about past client requests.</p>\n<h3>Non-Persistent and Persistent HTTP Connections</h3>\n<p>When client-server interaction is taking place over TCP, it should be decided whether each request/response pair has to be sent over <em>separate</em> TCP connections, or all of the requests and their responses have to be sent over the <em>same</em> TCP connection. In the former approach, the application is said to use <strong>non-persistent connections</strong> and in the latter approach, <strong>persistent connections</strong>.</p>\n<h4>Non-persistent HTML</h4>\n<p>Suppose a user wants to browse a page that consists of a HTML and 10 images. All 11 objects reside on the same server.</p>\n<ol>\n<li>The HTTP client process initiates a TCP connection to the server on port 80. Associated with the TCP connection, there will be a socket at the client and a socket at the server</li>\n<li>The client sends an HTTP request to the server via socket. The request includes the path name to <code class=\"language-text\">index.html</code></li>\n<li>The server process receives the request message via its socket, retrieves the <code class=\"language-text\">index.html</code> object, encapsulates the object in an HTTP response message and sends the object back via its socket</li>\n<li>\n<p>The server process tells TCP to close the TCP connection</p>\n<ul>\n<li><strong>Note</strong>: TCP connection doesn't terminate until client has received the response message intact</li>\n</ul>\n</li>\n<li>The client receives the message. TCP connection terminates. The message indicates that the encapsulated object is an HTML file. The client extracts the file from the response message, parses <code class=\"language-text\">index.html</code>, and finds references to the 10 images</li>\n<li>First four steps are repeated for each referenced image/object</li>\n</ol>\n<p>The connection <strong>does not persist</strong> for all objects - for every object there has to be a TCP connection open.</p>\n<p>RTT - time that it takes for package to travel from client to server and back.</p>\n<p>Non persistent HTTP response time is <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>2</mn><mi>R</mi><mi>T</mi><mi>T</mi><mo>+</mo><mtext>File transmission time</mtext></mrow><annotation encoding=\"application/x-tex\">2RTT + \\text{File transmission time}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord text\"><span class=\"mord\">File transmission time</span></span></span></span></span>. If object is small, then time is negligible, however if object is large then response time would be big. For example, time to get the page with 10 images would take:</p>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mtext>base html</mtext><mo>=</mo><mn>2</mn><mi>R</mi><mi>T</mi><mi>T</mi><mspace linebreak=\"newline\"></mspace><mtext>each object will</mtext><mo>=</mo><mn>2</mn><mi>R</mi><mi>T</mi><mi>T</mi><mspace linebreak=\"newline\"></mspace><mtext>total time to get page</mtext><mo>=</mo><mn>2</mn><mi>R</mi><mi>T</mi><mi>T</mi><mo>+</mo><mn>10</mn><mo>∗</mo><mn>2</mn><mi>R</mi><mi>T</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">\\text{base html} = 2RTT \\\\\n\\text{each object will} = 2RTT \\\\\n\\text{total time to get page} = 2RTT + 10*2RTT</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord text\"><span class=\"mord\">base html</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord text\"><span class=\"mord\">each object will</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span><span class=\"mspace newline\"></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord text\"><span class=\"mord\">total time to get page</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∗</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span></span></span></span>\n<h5>Non persistent connection with pipelining</h5>\n<p>As a result, a client will need to open multiple parallel TCP connections and then send one request for each connection. For previous example, it will take <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>4</mn><mi>R</mi><mi>T</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">4RTT</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">4</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span></span></span>.</p>\n<h4>Persistent HTML</h4>\n<p>With persistent connections, the server leaves TCP connection open after sending a response. Subsequent requests and responses between same client and server can be sent over the same connection. In particular, an entire page can be sent over a single persistent TCP connection. Typically, the HTTP server closes a connection when it isn't used for some time.</p>\n<p>For previous example them, the total time will be <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>3</mn><mi>R</mi><mi>T</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">3RTT</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mord mathdefault\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathdefault\" style=\"margin-right:0.13889em;\">T</span></span></span></span>.</p>\n<h3>HTTP messages</h3>\n<p>There are two types of HTTP messages: <strong>request</strong> and <strong>response</strong>. Both request and response messages have same format, both have a request line, and HEAD lines.</p>\n<h4>Request</h4>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5727cf3966f0e0e0a55fdec6fcccf480/85bfc/lec2-request-format.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 62.17821782178218%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB50lEQVQoz41Sa3OiQBD0//+su3y4u5hYUdQQFBWjHMj7sQvsQt8MFJQmX26rutiZXXqne2YmpUQUJfC8BGGYwPd9igPcbgn+eimKIofrXikXUy5DEGR0L6T9jc49VEUBdQvQeD46pTCL4wjL5RE/fu7xtnQwf3nDdvuB9fqMxcImMg9PT79gWTae5wf8/mNht7PxYZowLQuZ40C8LtAQaac1ZkmSYL05E9knVsYnlqtLjw3lDocdrJ1LsUv7ExzHpscMZGkKXkygogj3qyesqgpt2xI0NF0av02j0HUaHcWK5GjdkgUlsiybCOrLBWJloDqeBkL2Q2uF/111XSOO46FCjp0zhLGGTodHZimV7/khgjDtG8EIghEBNSCFT7mIpDGR67rI83wi1Fk+PdZ13SDZoAY8z0/k1eDhyrhis71gv9/Dtj3y94rj0aG9Td5uUJblnYdxTzSi77LjnGCa71SdD9XUkFKAx6ksBSr61rWEEENO9nGNRqmBhLwfyaamsDSWw/ILmiuGEOWEsiymPCMn8D8jyYNkPuAOf11XV2Jv57APBflYfzvnwdZE0JKf8t1ES5VPFfKrLIPHZ0RRSKpEUAMEVSgfznk/FcLjVtW99J6waZq+a/eSGCzzHg+S6f7YmK+S/wFiEJUFgaRteQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Request message format\"\n        title=\"\"\n        src=\"/static/5727cf3966f0e0e0a55fdec6fcccf480/fb8a0/lec2-request-format.png\"\n        srcset=\"/static/5727cf3966f0e0e0a55fdec6fcccf480/1a291/lec2-request-format.png 148w,\n/static/5727cf3966f0e0e0a55fdec6fcccf480/2bc4a/lec2-request-format.png 295w,\n/static/5727cf3966f0e0e0a55fdec6fcccf480/fb8a0/lec2-request-format.png 590w,\n/static/5727cf3966f0e0e0a55fdec6fcccf480/526de/lec2-request-format.png 885w,\n/static/5727cf3966f0e0e0a55fdec6fcccf480/85bfc/lec2-request-format.png 1010w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>Request messages are written in <strong>ASCII</strong> text. Messages also consist of several lines. The first line of an HTTP request message is called <strong>request line</strong>; the subsequent lines are called the <strong>header lines</strong>. Request line contains the method type. There can be several different values:</p>\n<ul>\n<li>\n<p><code class=\"language-text\">GET</code></p>\n<ul>\n<li>The majority of HTTP request messages use <code class=\"language-text\">GET</code> method. The <code class=\"language-text\">GET</code> method is used when the browser requests an object.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">POST</code></p>\n<ul>\n<li>An HTTP client uses <code class=\"language-text\">POST</code> requests to send forms</li>\n</ul>\n</li>\n<li><code class=\"language-text\">HEAD</code> - </li>\n<li><code class=\"language-text\">PUT</code> - </li>\n<li><code class=\"language-text\">DELETE</code> - </li>\n</ul>\n<p>Header lines can contain various parameters. The information provided by the host header line is required for Web proxy caches. By including <code class=\"language-text\">Connection: close</code>, the browser is telling the server to close connection after sending the requested object. The <code class=\"language-text\">User-agent:</code> specifies client's browser type.</p>\n<h4>Response</h4>\n<!-- FINISH -->\n<h4>Cookies</h4>\n<!-- FINISH -->\n<h3>Web caches (proxy server)</h3>\n<p>A <strong>web cache</strong> - also called <strong>proxy server</strong> - is a network entity that processes HTTP requests on behalf of origin server.</p>\n<h2>Email Protocol</h2>\n<p>Email infrastructure has three components. <strong>User agents</strong>, <strong>mail servers</strong>, <strong>SMTP, simple mail transfer protocol</strong>.</p>\n<p>SMTP uses (secure) TCP to transfer email messages, it operates on port 25.</p>\n<!-- mail server <-> webserver  <-> client -->\n<h2>DNS</h2>\n<p>DNS is one of the core functionalities, but it is provided on the application level. Hosts has to implement it.</p>\n<p>The primary functionality of DNS is to map human readable URLs to IP addresses, that are understandable by the network layer protocol.</p>\n<p><strong>Domain Name System (DNS)</strong> is a distributed database. It is implemented in hierarchy of many <em>name servers</em>.</p>\n<p>Application-layer protocol: hosts <!-- FINISH --></p>\n<h3>Structure, services</h3>\n<ul>\n<li>DNS provides host aliasing.</li>\n<li>\n<p>DNS can be used for load distribution</p>\n<ul>\n<li>replicates web servers: many IP addresses correspond to one name</li>\n</ul>\n</li>\n</ul>\n<p>DNS isn't centralized due to several reasons:</p>\n<ul>\n<li>single point of failure</li>\n<li>traffic volume</li>\n<li>distant centralized database</li>\n<li>maintenance</li>\n</ul>\n<p><strong>Example</strong> of DNS hierarchical database:</p>\n<h4>Root name servers</h4>\n<h4>TLD, authoritativ servers</h4>\n<p>Top-level domain (TLD) servers are responsible for com, org, net, edu, .. etc and all top level country domains, e.g.: uk, ca, ru. Network Solutions maintains servers for .com TLD.</p>\n<p>Authoritative DNS servers contain organization's own DNS serve(s), providing authoritative hostname to IP mappings for organization's named hosts.</p>\n<h4>Local DNS name server</h4>\n<p>Each ISP has one local DNS, also called \"default name server\". When host makes DNS query, query is sent to its local DNS server. It contains local cache of recent name-to-address translation pairs. Also acts as proxy, forwards query into hierarchy.</p>\n<div class=\"gatsby-highlight\" data-language=\"mermaid-svg\"><pre class=\"language-mermaid-svg\"><code class=\"language-mermaid-svg\">a --&gt; local dns\nlocal dns --&gt; server</code></pre></div>","frontmatter":{"date":"January 21, 2019","title":"Application Layer","tags":["cpsc441"]}}},"pageContext":{"prev":{"fields":{"slug":"/cpsc457/lec2-hardware-cache"},"frontmatter":{"published":true,"tags":["cpsc457"]}},"slug":"/cpsc441/lec2-application-layer","next":{"fields":{"slug":"/cpsc457/lec3-interrupts-traps-kernels-vms"},"frontmatter":{"published":true,"tags":["cpsc457"]}},"category":"cpsc441"}}